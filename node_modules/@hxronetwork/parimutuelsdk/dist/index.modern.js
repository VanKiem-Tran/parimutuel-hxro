import{TransactionInstruction as e,SystemProgram as r,SYSVAR_RENT_PUBKEY as t,SYSVAR_CLOCK_PUBKEY as n,PublicKey as i,Transaction as o,sendAndConfirmTransaction as s,Connection as u,clusterApiUrl as c}from"@solana/web3.js";import{ASSOCIATED_TOKEN_PROGRAM_ID as a,TOKEN_PROGRAM_ID as l,AccountLayout as f,u64 as m,MintLayout as h,Token as p}from"@solana/spl-token";import{serialize as d,BinaryReader as v,BinaryWriter as b,deserializeUnchecked as w}from"borsh";import g from"bn.js";import y from"bs58";import P from"lodash/get";import k from"lodash/chunk";import S from"moment";import E from"lodash/uniqWith";import A from"lodash/isEqual";var R,T="parimutuel",_="network",W="market",I="store",O="honeypot",M="network_trader_account",B="network_trader_fee_payer",C="market_trader_account",K="parimutuel_trader_position",L="parimutuel_trader_entry",N="trader_sequence",F="parimutuel_reserve",U=60,D=300,j=900,G=3600,x=86400,H=99,V=function(n,i,o,s){return new e({keys:[{pubkey:i,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:r.programId,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1}],programId:a,data:Buffer.from([])})};!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.NetworkV1=1]="NetworkV1",e[e.MarketV1=2]="MarketV1",e[e.StoreV1=3]="StoreV1",e[e.ParimutuelV1=4]="ParimutuelV1",e[e.TraderAccountV1=5]="TraderAccountV1",e[e.ParimutuelTraderPositionAccountV1=6]="ParimutuelTraderPositionAccountV1",e[e.TraderSequenceNumberV1=7]="TraderSequenceNumberV1",e[e.FixedFeesV1=8]="FixedFeesV1",e[e.LinearFeesV1=9]="LinearFeesV1",e[e.ParimutuelTraderEntryV1=10]="ParimutuelTraderEntryV1",e[e.TwoTieredFeesV1=11]="TwoTieredFeesV1",e[e.MultiTieredFeesV1=12]="MultiTieredFeesV1"}(R||(R={}));var q=function(e){this.enum=1,this.version=void 0,this.protocolFeeBps=void 0,this.settlementFeeBps=void 0,this._padding1=0,this._padding2=0,this._padding8=new g(0),this._padding16=new g(0),this._padding8_0=new g(0),this._padding8_1=new g(0),this._padding8_2=new g(0),this._padding8_3=new g(0),this.version=e.version,this.protocolFeeBps=new g(e.protocolFeeBps),this.settlementFeeBps=new g(e.settlementFeeBps)},z=function(e){this.enum=2,this.version=void 0,this.protocolTokenRequiredForMinFee=void 0,this.minProtocolFeeBps=void 0,this.maxProtocolFeeBps=void 0,this.minSettlementFeeBps=void 0,this.maxSettlementFeeBps=void 0,this._padding1=0,this._padding2=0,this._padding4=0,this._padding8=new g(0),this._padding8_0=new g(0),this._padding8_1=new g(0),this._padding8_2=new g(0),this._padding8_3=new g(0),this.version=e.version,this.protocolTokenRequiredForMinFee=e.protocolTokenRequiredForMinFee,this.minProtocolFeeBps=e.minProtocolFeeBps,this.maxProtocolFeeBps=e.maxProtocolFeeBps,this.minSettlementFeeBps=e.minSettlementFeeBps,this.maxSettlementFeeBps=e.maxSettlementFeeBps};function Q(e,r){return Q=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e},Q(e,r)}var X,J,Y,Z,$,ee,re,te,ne=/*#__PURE__*/function(e){var r,t;function n(r){var t;return(t=e.call(this,r)||this).enum=3,t}return t=e,(r=n).prototype=Object.create(t.prototype),r.prototype.constructor=r,Q(r,t),n}(z),ie=function(e){this.enum=4,this.version=void 0,this.tiers=void 0,this.stakedAmount=void 0,this.settlementFeeBps=void 0,this._padding1=0,this.version=e.version,this.tiers=e.tiers,this.stakedAmount=e.stakedAmount,this.settlementFeeBps=e.settlementFeeBps},oe=function(e){this.version=void 0,this.programId=void 0,this.bumpSeed=void 0,this.authority=void 0,this.protocolToken=void 0,this.settlementToken=void 0,this.protocolProductOracle=void 0,this.protocolPriceOracle=void 0,this.protocolFeeCollector=void 0,this.settlementFeeCollector=void 0,this.fee=void 0,this.version=e.version,this.programId=e.programId,this.bumpSeed=e.bumpSeed,this.authority=e.authority,this.protocolToken=e.protocolToken,this.settlementToken=e.settlementToken,this.protocolProductOracle=e.protocolProductOracle,this.protocolPriceOracle=e.protocolPriceOracle,this.protocolFeeCollector=e.protocolFeeCollector,this.settlementFeeCollector=e.settlementFeeCollector,this.fee=e.fee},se=function(e){this.version=void 0,this.programId=void 0,this.bumpSeed=void 0,this.marketKey=void 0,this.wallet=void 0,this.protocolFeeCollector=void 0,this.settlementFeeCollector=void 0,this.fee=void 0,this.version=e.version,this.programId=e.programId,this.bumpSeed=e.bumpSeed,this.marketKey=e.marketKey,this.wallet=e.wallet,this.protocolFeeCollector=e.protocolFeeCollector,this.settlementFeeCollector=e.settlementFeeCollector,this.fee=e.fee},ue=function(e){this.version=void 0,this.programId=void 0,this.bumpSeed=void 0,this.authority=void 0,this.network=void 0,this.underlyingProductOracle=void 0,this.underlyingPriceOracle=void 0,this.duration=void 0,this.contractSize=void 0,this.protocolFeeCollector=void 0,this.settlementFeeCollector=void 0,this.fee=void 0,this.version=e.version,this.programId=e.programId,this.bumpSeed=e.bumpSeed,this.authority=e.authority,this.network=e.network,this.underlyingProductOracle=e.underlyingProductOracle,this.underlyingPriceOracle=e.underlyingPriceOracle,this.duration=e.duration,this.contractSize=e.contractSize,this.protocolFeeCollector=e.protocolFeeCollector,this.settlementFeeCollector=e.settlementFeeCollector,this.fee=e.fee},ce=function(e){this.version=void 0,this.programId=void 0,this.bumpSeed=void 0,this.strike=void 0,this.index=void 0,this.slot=void 0,this.marketOpen=void 0,this.marketClose=void 0,this.timeWindowStart=void 0,this.marketKey=void 0,this.honeypot=void 0,this.numPositions=void 0,this.numPositionsSettled=void 0,this.numPositionsDestroyed=void 0,this.expired=void 0,this.rewardPerShare=void 0,this.activeLongPositions=void 0,this.activeShortPositions=void 0,this.networkFees=void 0,this.marketFees=void 0,this.creator=void 0,this.version=e.version,this.programId=e.programId,this.bumpSeed=e.bumpSeed,this.strike=e.strike,this.index=e.index,this.slot=e.slot,this.marketOpen=e.marketOpen,this.marketClose=e.marketClose,this.timeWindowStart=e.timeWindowStart,this.marketKey=e.marketKey,this.honeypot=e.honeypot,this.numPositions=e.numPositions,this.numPositionsSettled=e.numPositionsSettled,this.numPositionsDestroyed=e.numPositionsDestroyed,this.expired=e.expired,this.rewardPerShare=e.rewardPerShare,this.activeLongPositions=e.activeLongPositions,this.activeShortPositions=e.activeShortPositions,this.networkFees=e.networkFees,this.marketFees=e.marketFees,this.creator=e.creator},ae=function(e){this.version=void 0,this.programId=void 0,this.bumpSeed=void 0,this.traderWallet=void 0,this.aggregationLevelKey=void 0,this.profit=void 0,this.loss=void 0,this.wins=void 0,this.losses=void 0,this.version=e.version,this.programId=e.programId,this.bumpSeed=e.bumpSeed,this.traderWallet=e.traderWallet,this.aggregationLevelKey=e.aggregationLevelKey,this.profit=new g(e.profit),this.loss=new g(e.loss),this.wins=new g(e.wins),this.losses=new g(e.losses)},le=function(e){this.version=void 0,this.programId=void 0,this.bumpSeed=void 0,this.sequenceNumber=void 0,this.parimutuel=void 0,this.traderWallet=void 0,this.hasStore=void 0,this.store=void 0,this.longPosition=void 0,this.shortPosition=void 0,this.numEntries=void 0,this.paid=void 0,this.payout=void 0,this.version=e.version,this.programId=e.programId,this.bumpSeed=e.bumpSeed,this.sequenceNumber=e.sequenceNumber,this.parimutuel=e.parimutuel,this.traderWallet=e.traderWallet,this.hasStore=e.hasStore,this.store=e.store,this.longPosition=e.longPosition,this.shortPosition=e.shortPosition,this.numEntries=e.numEntries,this.paid=e.paid,this.payout=e.payout},fe=function(e){this.version=void 0,this.programId=void 0,this.bumpSeed=void 0,this.traderPosition=void 0,this.sequenceNumber=void 0,this.traderWallet=void 0,this.direction=void 0,this.amount=void 0,this.timestamp=void 0,this.version=e.version,this.programId=e.programId,this.bumpSeed=e.bumpSeed,this.traderPosition=e.traderPosition,this.sequenceNumber=e.sequenceNumber,this.traderWallet=e.traderWallet,this.direction=e.direction,this.amount=e.amount,this.timestamp=e.timestamp},me=function(e){this.version=void 0,this.programId=void 0,this.bumpSeed=void 0,this.parimutuel=void 0,this.traderKey=void 0,this.sequenceNumber=void 0,this.version=e.version,this.programId=e.programId,this.bumpSeed=e.bumpSeed,this.parimutuel=e.parimutuel,this.traderKey=e.traderKey,this.sequenceNumber=e.sequenceNumber},he=function(e){this.instruction=0,this.fees=void 0,this.fees=e.fees},pe=function(e){this.instruction=14,this.fees=void 0,this.fees=e.fees},de=function(e){this.instruction=1,this.duration=void 0,this.contractSize=void 0,this.fees=void 0,this.duration=new g(e.duration),this.contractSize=new g(e.contractSize),this.fees=e.fees},ve=function(e){this.instruction=2,this.fees=void 0,this.fees=e.fees},be=function(e){this.instruction=3,this.marketOpen=void 0,this.marketClose=void 0,this.timeWindowStart=void 0,this.marketOpen=new g(e.marketOpen),this.marketClose=new g(e.marketClose),this.timeWindowStart=new g(e.timeWindowStart)},we=function(){this.instruction=4},ge=function(){this.instruction=5},ye=function(){this.instruction=6},Pe=function(){this.instruction=7},ke=function(){this.instruction=8},Se=function(e){this.instruction=9,this.size=void 0,this.side=void 0,this.seq=void 0,this.size=new g(e.size),this.side=e.side,this.seq=new g(e.seq)},Ee=function(){this.instruction=10},Ae=function(){this.instruction=11},Re=function(e){this.instruction=12,this.amount=void 0,this.amount=new g(e.amount)},Te=function(){this.instruction=15},_e=function(){this.instruction=18},We=function(){this.instruction=17},Ie=new Map([[he,{kind:"struct",fields:[["instruction","u8"],["fees",ne]]}],[pe,{kind:"struct",fields:[["instruction","u8"],["fees",ne]]}],[de,{kind:"struct",fields:[["instruction","u8"],["duration","u64"],["contractSize","u64"],["fees",q]]}],[ve,{kind:"struct",fields:[["instruction","u8"],["fees",q]]}],[be,{kind:"struct",fields:[["instruction","u8"],["marketOpen","u64"],["marketClose","u64"],["timeWindowStart","u64"]]}],[we,{kind:"struct",fields:[["instruction","u8"]]}],[ge,{kind:"struct",fields:[["instruction","u8"]]}],[Pe,{kind:"struct",fields:[["instruction","u8"]]}],[ye,{kind:"struct",fields:[["instruction","u8"]]}],[ke,{kind:"struct",fields:[["instruction","u8"]]}],[Se,{kind:"struct",fields:[["instruction","u8"],["size","u64"],["side","u8"],["seq","u64"]]}],[Ee,{kind:"struct",fields:[["instruction","u8"]]}],[Ae,{kind:"struct",fields:[["instruction","u8"]]}],[Re,{kind:"struct",fields:[["instruction","u8"],["amount","u64"]]}],[Te,{kind:"struct",fields:[["instruction","u8"]]}],[_e,{kind:"struct",fields:[["instruction","u8"]]}],[We,{kind:"struct",fields:[["instruction","u8"]]}],[z,{kind:"struct",fields:[["enum","u8"],["version","u8"],["protocolTokenRequiredForMinFee","u64"],["minProtocolFeeBps","u16"],["maxProtocolFeeBps","u16"],["minSettlementFeeBps","u16"],["maxSettlementFeeBps","u16"],["_padding1","u8"],["_padding2","u16"],["_padding4","u32"],["_padding8","u64"],["_padding8_0","u64"],["_padding8_1","u64"],["_padding8_2","u64"],["_padding8_3","u64"]]}],[ne,{kind:"struct",fields:[["enum","u8"],["version","u8"],["protocolTokenRequiredForMinFee","u64"],["minProtocolFeeBps","u16"],["maxProtocolFeeBps","u16"],["minSettlementFeeBps","u16"],["maxSettlementFeeBps","u16"],["_padding1","u8"],["_padding2","u16"],["_padding4","u32"],["_padding8","u64"],["_padding8_0","u64"],["_padding8_1","u64"],["_padding8_2","u64"],["_padding8_3","u64"]]}],[q,{kind:"struct",fields:[["enum","u8"],["version","u8"],["protocolFeeBps","u16"],["settlementFeeBps","u16"],["_padding1","u8"],["_padding2","u16"],["_padding8","u64"],["_padding16","u128"],["_padding8_0","u64"],["_padding8_1","u64"],["_padding8_2","u64"],["_padding8_3","u64"]]}],[ie,{kind:"struct",fields:[["enum","u8"],["version","u8"],["tiers","u8"],["stakedAmount","multiTieredFeesStakedAmount"],["settlementFeeBps","multiTieredFeesSettlementFeeBps"],["_padding1","u16"]]}],[oe,{kind:"struct",fields:[["version","u8"],["programId","pubkeyAsString"],["bumpSeed","u8"],["authority","pubkeyAsString"],["protocolToken","pubkeyAsString"],["settlementToken","pubkeyAsString"],["protocolProductOracle","pubkeyAsString"],["protocolPriceOracle","pubkeyAsString"],["protocolFeeCollector","pubkeyAsString"],["settlementFeeCollector","pubkeyAsString"],["fee",z]]}],[ue,{kind:"struct",fields:[["version","u8"],["programId","pubkeyAsString"],["bumpSeed","u8"],["authority","pubkeyAsString"],["network","pubkeyAsString"],["underlyingProductOracle","pubkeyAsString"],["underlyingPriceOracle","pubkeyAsString"],["duration","u64"],["contractSize","u64"],["protocolFeeCollector","pubkeyAsString"],["settlementFeeCollector","pubkeyAsString"],["fee",q]]}],[se,{kind:"struct",fields:[["version","u8"],["programId","pubkeyAsString"],["bumpSeed","u8"],["marketKey","pubkeyAsString"],["wallet","pubkeyAsString"],["protocolFeeCollector","pubkeyAsString"],["settlementFeeCollector","pubkeyAsString"],["fee",z]]}],[ce,{kind:"struct",fields:[["version","u8"],["programId","pubkeyAsString"],["bumpSeed","u8"],["strike","u64"],["index","u64"],["slot","u64"],["marketOpen","u64"],["marketClose","u64"],["timeWindowStart","u64"],["marketKey","pubkeyAsString"],["honeypot","pubkeyAsString"],["numPositions","u64"],["numPositionsSettled","u64"],["numPositionsDestroyed","u64"],["expired","u8"],["rewardPerShare","u64"],["activeLongPositions","u64"],["activeShortPositions","u64"],["networkFees",ne],["marketFees",q],["creator","pubkeyAsString"]]}],[ae,{kind:"struct",fields:[["version","u8"],["programId","pubkeyAsString"],["bumpSeed","u8"],["traderWallet","pubkeyAsString"],["aggregationLevelKey","pubkeyAsString"],["profit","u64"],["loss","u64"],["wins","u64"],["losses","u64"]]}],[me,{kind:"struct",fields:[["version","u8"],["programId","pubkeyAsString"],["bumpSeed","u8"],["parimutuel","pubkeyAsString"],["traderWallet","pubkeyAsString"],["sequenceNumber","u64"]]}],[le,{kind:"struct",fields:[["version","u8"],["programId","pubkeyAsString"],["bumpSeed","u8"],["sequenceNumber","u64"],["parimutuel","pubkeyAsString"],["traderWallet","pubkeyAsString"],["hasStore","u8"],["store","pubkeyAsString"],["longPosition","u64"],["shortPosition","u64"],["numEntries","u64"],["paid","u8"],["payout","u64"]]}],[fe,{kind:"struct",fields:[["version","u8"],["programId","pubkeyAsString"],["bumpSeed","u8"],["traderPosition","pubkeyAsString"],["sequenceNumber","u64"],["traderWallet","pubkeyAsString"],["direction","u8"],["amount","u64"],["timestamp","u64"]]}]]),Oe=function(r,t,n,i,o,s,u,c){try{var a=Buffer.from(d(Ie,t));return Promise.resolve(new e({keys:[{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0}],programId:r,data:a}))}catch(e){return Promise.reject(e)}},Me=function(n,i,o,s,u,c,a,l,f,m,h){try{var p=Buffer.from(d(Ie,i));return Promise.resolve(new e({keys:[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:h,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!0,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:r.programId,isSigner:!1,isWritable:!1}],programId:n,data:p}))}catch(e){return Promise.reject(e)}},Be=function(n,i,o,s,u,c,a,l,f,m){try{return Promise.resolve(new e({keys:[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:r.programId,isSigner:!1,isWritable:!1}],programId:n,data:Buffer.from(d(Ie,i))}))}catch(e){return Promise.reject(e)}},Ce=function(n,i,o,s,u,c,a,l,f,m){try{var h=Buffer.from(d(Ie,i));return Promise.resolve(new e({keys:[{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!0,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!0,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:r.programId,isSigner:!1,isWritable:!1}],programId:n,data:h}))}catch(e){return Promise.reject(e)}},Ke=function(r,t,i,o,s,u,c,a,f,m,h){try{var p=Buffer.from(d(Ie,t));return Promise.resolve(new e({keys:[{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1}],programId:r,data:p}))}catch(e){return Promise.reject(e)}},Le=function(n,i,o,s,u,c,a){try{var f=Buffer.from(d(Ie,i));return Promise.resolve(new e({keys:[{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:r.programId,isSigner:!1,isWritable:!1}],programId:n,data:f}))}catch(e){return Promise.reject(e)}},Ne=function(n,i,o,s,u,c,a,l,f,m,h,p){try{var v=Buffer.from(d(Ie,i));return Promise.resolve(new e({keys:[{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!0,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!0,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:r.programId,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1}],programId:n,data:v}))}catch(e){return Promise.reject(e)}},Fe=function(n,i,o,s,u,c,a,l,f,m){try{var h=Buffer.from(d(Ie,i));return Promise.resolve(new e({keys:[{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!0,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!0,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:r.programId,isSigner:!1,isWritable:!1}],programId:n,data:h}))}catch(e){return Promise.reject(e)}},Ue=function(i,o,s,u,c,a,l){try{var f=Buffer.from(d(Ie,o));return Promise.resolve(new e({keys:[{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!0,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:r.programId,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1}],programId:i,data:f}))}catch(e){return Promise.reject(e)}},De=function(n,i,o,s,u,c,a,f,m,h){try{var p=Buffer.from(d(Ie,i));return Promise.resolve(new e({keys:[{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!0,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:r.programId,isSigner:!1,isWritable:!1}],programId:n,data:p}))}catch(e){return Promise.reject(e)}},je=function(n,i,o,s,u,c,a,l,f){try{var m=Buffer.from(d(Ie,i));return Promise.resolve(new e({keys:[{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!0,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:r.programId,isSigner:!1,isWritable:!1}],programId:n,data:m}))}catch(e){return Promise.reject(e)}},Ge=function(i,o,s,u,c,a,f,m,h,p){try{var v=Buffer.from(d(Ie,o));return Promise.resolve(new e({keys:[{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!0,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!0,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:r.programId,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1}],programId:i,data:v}))}catch(e){return Promise.reject(e)}},xe=function(t,n,i,o,s,u,c,a,f,m,h,p,v,b,w,g,y,P,k,S,E,A,R,T,_){try{var W=Buffer.from(d(Ie,n));return Promise.resolve(new e({keys:[{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:P,isSigner:!1,isWritable:!0},{pubkey:k,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:S,isSigner:!1,isWritable:!1},{pubkey:E,isSigner:!1,isWritable:!1},{pubkey:A,isSigner:!1,isWritable:!1},{pubkey:R,isSigner:!1,isWritable:!1},{pubkey:T,isSigner:!1,isWritable:!1},{pubkey:_,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:r.programId,isSigner:!1,isWritable:!1},{pubkey:r.programId,isSigner:!1,isWritable:!1},{pubkey:r.programId,isSigner:!1,isWritable:!1}],programId:t,data:W}))}catch(e){return Promise.reject(e)}},He=function(r,t,n,i,o,s,u,c,a,f,m,h,p,v,b,w,g,y,P,k,S,E,A){try{var R=Buffer.from(d(Ie,t));return Promise.resolve(new e({keys:[{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:A,isSigner:!1,isWritable:!1},{pubkey:E,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:h,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:w,isSigner:!1,isWritable:!1},{pubkey:g,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:P,isSigner:!1,isWritable:!1},{pubkey:k,isSigner:!1,isWritable:!1},{pubkey:S,isSigner:!1,isWritable:!1}],programId:r,data:R}))}catch(e){return Promise.reject(e)}},Ve=function(n,i,o,s,u,c,a,f){try{var m=Buffer.from(d(Ie,i));return Promise.resolve(new e({keys:[{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:r.programId,isSigner:!1,isWritable:!1}],programId:n,data:m}))}catch(e){return Promise.reject(e)}},qe=function(r,t,n,i,o,s,u,c,a,f,m){try{var h=Buffer.from(d(Ie,t));return Promise.resolve(new e({keys:[{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!0}],programId:r,data:h}))}catch(e){return Promise.reject(e)}},ze=function(r,t,n,i,o,s,u,c){try{var a=Buffer.from(d(Ie,t));return Promise.resolve(new e({keys:[{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0}],programId:r,data:a}))}catch(e){return Promise.reject(e)}},Qe=function(r,t,n,i,o,s,u){try{var c=Buffer.from(d(Ie,t));return Promise.resolve(new e({keys:[{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0}],programId:r,data:c}))}catch(e){return Promise.reject(e)}},Xe=function(){v.prototype.readPubkey=function(){var e=this.readFixedArray(32);return new i(e)},b.prototype.writePubkey=function(e){this.writeFixedArray(e.toBuffer())},v.prototype.readPubkeyAsString=function(){var e=this.readFixedArray(32);return y.encode(e)},b.prototype.writePubkeyAsString=function(e){this.writeFixedArray(y.decode(e))},v.prototype.readMultiTieredFeesStakedAmount=function(){for(var e=new Array(10),r=0;r<10;r++)e[r]=this.readU32();return e},b.prototype.writeMultiTieredFeesStakedAmount=function(e){for(var r=0;r<10;r++)this.writeU32(e[r])},v.prototype.readMultiTieredFeesSettlementFeeBps=function(){for(var e=new Array(10),r=0;r<10;r++)e[r]=this.readU16();return e},b.prototype.writeMultiTieredFeesSettlementFeeBps=function(e){for(var r=0;r<10;r++)this.writeU16(e[r])}},Je=function(e,r){var t,n=e.find(function(e){return e.address===r});return null!=(t=null==n?void 0:n.mint.decimals)?t:0},Ye=function(e,r){return void 0===r&&(r=4),e.slice(0,r)+"..."+e.slice(-r)},Ze=function(e,r){return e&&r?Number(1/(e/r)).toFixed(2):"0"},$e=function(e,r,t){return e&&r?Number(r*(1-t)/e).toFixed(2):"0"};!function(e){e.SOLANA="solana",e.USDC="usdc",e.HXRO="hxro"}(X||(X={})),function(e){e.PARIMUTUEL="parimutuel",e.OPTIONS="options"}(J||(J={})),function(e){e.CRYPTO="crypto",e.FINANCIAL="financial",e.SPORTS="sports"}(Y||(Y={})),function(e){e.BTCUSD="BTCUSD",e.SOLUSD="SOLUSD",e.ETHUSD="ETHUSD",e.HXROUSD="HXROUSD"}(Z||(Z={})),function(e){e.USDC="USDC",e.HXRO="HXRO"}($||($={})),function(e){e.ONE_MIN="1min",e.FIVE_MIN="5min",e.FIFTEEN_MIN="15min",e.ONE_HOUR="1hour",e.ONE_DAY="1day"}(ee||(ee={})),function(e){e.UPCOMING="upcoming",e.LIVE="live",e.SETTLED="settled"}(re||(re={})),function(e){e[e.SHORT=1]="SHORT",e[e.LONG=0]="LONG"}(te||(te={}));var er=function(e,r){return P(e.markets,[r,"PROTOCOL_MINT"])},rr=function(e,r){return P(e.markets,[r,"SETTLEMENT_MINT"])},tr=function(e,r){var t=[];return P(e.markets,[r,"MARKET_60S"])&&t.push({pubkey:P(e.markets,[r,"MARKET_60S"]),duration:60}),P(e.markets,[r,"MARKET_300S"])&&t.push({pubkey:P(e.markets,[r,"MARKET_300S"]),duration:300}),P(e.markets,[r,"MARKET_900S"])&&t.push({pubkey:P(e.markets,[r,"MARKET_900S"]),duration:900}),P(e.markets,[r,"MARKET_3600S"])&&t.push({pubkey:P(e.markets,[r,"MARKET_3600S"]),duration:3600}),P(e.markets,[r,"MARKET_86400S"])&&t.push({pubkey:P(e.markets,[r,"MARKET_86400S"]),duration:86400}),t},nr=function(e){return Boolean(e.info.parimutuel.expired)},ir=function(e){var r=e.info.parimutuel,t=r.strike;return r.index.toNumber()>t.toNumber()},or=function(e,r,t){var n=(new Date).getTime();return n>=Number(r)+1e3*t?re.SETTLED:n>=Number(e)&&n<Number(r)+1e3*t?re.LIVE:re.UPCOMING},sr=function(e){return e.data[0]===R.MarketV1},ur=function(e){return e.data[0]===R.NetworkV1},cr=function(e){return e.data[0]===R.StoreV1},ar=function(e){return e.data[0]===R.ParimutuelV1},lr=function(e){return e.data[0]===R.TraderAccountV1},fr=function(e){return e.data[0]===R.TraderSequenceNumberV1},mr=function(e){return e.data[0]===R.ParimutuelTraderPositionAccountV1},hr=function(e){return!!e},pr=function(e,r){try{var t="pda-"+e.reduce(function(e,r){return e+r.toString("hex")},"")+r.toString();if("undefined"!=typeof window){var n,o=null==(n=localStorage)?void 0:n.getItem(t);if(o){var s=JSON.parse(o);return Promise.resolve([s.key,parseInt(s.nonce)])}}return Promise.resolve(i.findProgramAddress(e,r)).then(function(e){var r;return"undefined"!=typeof window&&(null==(r=localStorage)||r.setItem(t,JSON.stringify({key:e[0].toBase58(),nonce:e[1]}))),[e[0].toBase58(),e[1]]})}catch(e){return Promise.reject(e)}},dr=function(e){try{return Promise.resolve(pr([Buffer.from("network"),new Uint8Array(e.toBuffer())],e)).then(function(e){return new i(e[0])})}catch(e){return Promise.reject(e)}},vr=function(e,r,t,n,o,s,u){try{return Promise.resolve(pr([Buffer.from("market"),r.toBuffer(),t.toBuffer(),n.toBuffer(),o.toBuffer(),new g(s).toBuffer(),new g(u).toBuffer()],e)).then(function(e){return new i(e[0])})}catch(e){return Promise.reject(e)}},br=function(e,r,t,n,o){try{return Promise.resolve(pr([Buffer.from("parimutuel"),r.toBuffer(),new Uint8Array(new g(t).toArray("le",8)),new Uint8Array(new g(o).toArray("le",8)),new Uint8Array(new g(n).toArray("le",8))],e)).then(function(e){return new i(e[0])})}catch(e){return Promise.reject(e)}},wr=function(e,r){try{return Promise.resolve(pr([e.toBuffer(),l.toBuffer(),r.toBuffer()],a)).then(function(e){return new i(e[0])})}catch(e){return Promise.reject(e)}},gr=function(e,r){try{return Promise.resolve(pr([e.toBuffer(),l.toBuffer(),r.toBuffer()],a)).then(function(e){return new i(e[0])})}catch(e){return Promise.reject(e)}},yr=function(e,r){try{return Promise.resolve(pr([e.toBuffer(),l.toBuffer(),r.toBuffer()],a)).then(function(e){return new i(e[0])})}catch(e){return Promise.reject(e)}},Pr=function(e,r){try{return Promise.resolve(pr([e.toBuffer(),l.toBuffer(),r.toBuffer()],a)).then(function(e){return new i(e[0])})}catch(e){return Promise.reject(e)}},kr=function(e,r){try{return Promise.resolve(pr([e.toBuffer(),l.toBuffer(),r.toBuffer()],a)).then(function(e){return new i(e[0])})}catch(e){return Promise.reject(e)}},Sr=function(e,r,t){try{return Promise.resolve(pr([Buffer.from("network_trader_account"),t.toBuffer(),r.toBuffer()],e)).then(function(e){return new i(e[0])})}catch(e){return Promise.reject(e)}},Er=function(e,r,t){try{return Promise.resolve(pr([Buffer.from("market_trader_account"),t.toBuffer(),r.toBuffer()],e)).then(function(e){return new i(e[0])})}catch(e){return Promise.reject(e)}},Ar=function(e,r,t,n){try{return Promise.resolve(pr([t.toBuffer(),r.toBuffer(),n.toBuffer()],e)).then(function(e){return new i(e[0])})}catch(e){return Promise.reject(e)}},Rr=function(e,r){try{return Promise.resolve(pr([Buffer.from("parimutuel_reserve"),r.toBuffer()],e)).then(function(e){return new i(e[0])})}catch(e){return Promise.reject(e)}},Tr=function(e,r){try{return Promise.resolve(pr([r.toBuffer()],e)).then(function(e){return new i(e[0])})}catch(e){return Promise.reject(e)}},_r=function(e,r,t){try{return Promise.resolve(pr([r.toBuffer(),t.toBuffer()],e)).then(function(e){return new i(e[0])})}catch(e){return Promise.reject(e)}},Wr=function(e,r){try{return Promise.resolve(pr([Buffer.from("honeypot"),r.toBuffer()],e)).then(function(e){return new i(e[0])})}catch(e){return Promise.reject(e)}},Ir=function(e,r,t){try{return Promise.resolve(pr([Buffer.from("parimutuel_trader_position"),t.toBuffer(),r.toBuffer()],e)).then(function(e){return new i(e[0])})}catch(e){return Promise.reject(e)}},Or=function(e,r,t){try{return Promise.resolve(pr([Buffer.from("parimutuel_trader_entry"),r.toBuffer(),new Uint8Array(new g(t).toArray("le",8))],e)).then(function(e){return new i(e[0])})}catch(e){return Promise.reject(e)}},Mr=function(e,r){try{return Promise.resolve(pr([Buffer.from("network_trader_fee_payer"),r.toBuffer()],e)).then(function(e){return new i(e[0])})}catch(e){return Promise.reject(e)}},Br=function(e,r,t){try{return Promise.resolve(pr([Buffer.from("trader_sequence"),r.toBuffer(),new Uint8Array(new g(t).toArray("le",8))],e)).then(function(e){return new i(e[0])})}catch(e){return Promise.reject(e)}},Cr=function(e,r,t){try{return Promise.resolve(pr([Buffer.from("store"),r.toBuffer(),t.toBuffer()],e)).then(function(e){return new i(e[0])})}catch(e){return Promise.reject(e)}},Kr=function(e,r){try{var t=[r.map(function(e){return e.toBase58()}),{commitment:"recent"}];return Promise.resolve(e._rpcRequest("getMultipleAccounts",t)).then(function(e){if(e.error)throw new Error("failed to get info about accounts "+r.map(function(e){return e.toBase58()}).join(", ")+": "+e.error.message);return e.result?e.result.value.map(function(e){if(!e)return null;var r=e.lamports,t=e.data;return{executable:e.executable,owner:new i(e.owner),lamports:r,data:Buffer.from(t[0],"base64")}}).map(function(e,t){return null===e?null:{pubkey:r[t],account:e}}):[]})}catch(e){return Promise.reject(e)}},Lr=function(e,r){try{if(r.length<=99)return Promise.resolve(Kr(e,r));var t=k(r,99);return Promise.resolve(Promise.all(t.map(function(r){return Kr(e,r)}))).then(function(e){return e.flat()})}catch(e){return Promise.reject(e)}},Nr=function(e,r,t){var n=(new Date).getTime(),i=n-n%r;return Array.from(Array(t).keys()).map(function(t){return{marketPubkey:e,startTime:i-t*r,duration:r}}).reverse()},Fr=function(e,r,t){var n=(new Date).getTime(),i=n-n%r;return Array.from(Array(t).keys()).map(function(t){return{marketPubkey:e,startTime:i+t*r,duration:r}}).reverse()},Ur=function(e){var r=Math.floor(e/3600),t=Math.floor(e/60%60),n=Math.floor(e%60);return 24===r?"1 day":1===r?"1 hour":15===t?"15 min":5===t?"5 min":60===n?"1 min":"1 MIN"},Dr=function(e){return S.unix(e/1e3).format("MM/DD/YYYY hh:mm:ss")},jr=function(e){return S.unix(e/1e3).format("MM/DD/YYYY")},Gr=function(e){return S.unix(e/1e3).format("hh:mm:ss")};Xe();var xr=function(e){var r=f.decode(e);return r.mint=new i(r.mint),r.owner=new i(r.owner),r.amount=m.fromBuffer(r.amount),0===r.delegateOption?(r.delegate=null,r.delegatedAmount=new m(0)):(r.delegate=new i(r.delegate),r.delegatedAmount=m.fromBuffer(r.delegatedAmount)),r.isInitialized=0!==r.state,r.isFrozen=2===r.state,1===r.isNativeOption?(r.rentExemptReserve=m.fromBuffer(r.isNative),r.isNative=!0):(r.rentExemptReserve=null,r.isNative=!1),r.closeAuthority=0===r.closeAuthorityOption?null:new i(r.closeAuthority),r},Hr=function(e){if(e.length!==h.span)throw new Error("Not a valid Mint");var r=h.decode(e);return r.mintAuthority=0===r.mintAuthorityOption?null:new i(r.mintAuthority),r.supply=m.fromBuffer(r.supply),r.isInitialized=0!==r.isInitialized,r.freezeAuthority=0===r.freezeAuthorityOption?null:new i(r.freezeAuthority),r},Vr=function(e){return w(Ie,q,e)},qr=function(e){return w(Ie,z,e)},zr=function(e){return w(Ie,ie,e)},Qr=function(e){return w(Ie,oe,e)},Xr=function(e){return w(Ie,se,e)},Jr=function(e){return w(Ie,ue,e)},Yr=function(e){return w(Ie,ce,e)},Zr=function(e){return w(Ie,ae,e)},$r=function(e){return w(Ie,me,e)},et=function(e){return w(Ie,le,e)},rt=function(e){return w(Ie,fe,e)};function tt(e,r,t){if(!e.s){if(t instanceof nt){if(!t.s)return void(t.o=tt.bind(null,e,r));1&r&&(r=t.s),t=t.v}if(t&&t.then)return void t.then(tt.bind(null,e,r),tt.bind(null,e,2));e.s=r,e.v=t;var n=e.o;n&&n(e)}}var nt=/*#__PURE__*/function(){function e(){}return e.prototype.then=function(r,t){var n=new e,i=this.s;if(i){var o=1&i?r:t;if(o){try{tt(n,1,o(this.v))}catch(e){tt(n,2,e)}return n}return this}return this.o=function(e){try{var i=e.v;1&e.s?tt(n,1,r?r(i):i):t?tt(n,1,t(i)):tt(n,2,i)}catch(e){tt(n,2,e)}},n},e}();function it(e){return e instanceof nt&&1&e.s}function ot(e,r,t){for(var n;;){var i=e();if(it(i)&&(i=i.v),!i)return o;if(i.then){n=0;break}var o=t();if(o&&o.then){if(!it(o)){n=1;break}o=o.s}if(r){var s=r();if(s&&s.then&&!it(s)){n=2;break}}}var u=new nt,c=tt.bind(null,u,2);return(0===n?i.then(l):1===n?o.then(a):s.then(f)).then(void 0,c),u;function a(n){o=n;do{if(r&&(s=r())&&s.then&&!it(s))return void s.then(f).then(void 0,c);if(!(i=e())||it(i)&&!i.v)return void tt(u,1,o);if(i.then)return void i.then(l).then(void 0,c);it(o=t())&&(o=o.v)}while(!o||!o.then);o.then(a).then(void 0,c)}function l(e){e?(o=t())&&o.then?o.then(a).then(void 0,c):a(o):tt(u,1,o)}function f(){(i=e())?i.then?i.then(l).then(void 0,c):l(i):tt(u,1,o)}}function st(e,r){try{var t=e()}catch(e){return r(e)}return t&&t.then?t.then(void 0,r):t}var ut=function(){return(new Date).getTime()/1e3};function ct(e){return new Promise(function(r){return setTimeout(r,e)})}var at,lt,ft,mt,ht,pt=function(e){var r=e.connection,t=e.signedTransaction,n=e.retry,i=void 0===n||n,o=e.timeout,s=void 0===o?15e3:o,u=e.confirmation,c=void 0===u||u;try{var a=t.serialize(),l=ut(),f=0;return Promise.resolve(r.sendRawTransaction(a,{skipPreflight:!0})).then(function(e){function n(r){return{transactionId:e,slot:f}}var o=!1;i?function(){try{var e=ot(function(){return!o&&ut()-l<s},void 0,function(){return r.sendRawTransaction(a,{skipPreflight:!0}).catch(function(e){return console.error(e)}),Promise.resolve(ct(500)).then(function(){})});e&&e.then&&e.then(function(){})}catch(e){Promise.reject(e)}}():r.sendRawTransaction(a,{skipPreflight:!0}).catch(function(e){return console.error(e)});var u=function(){if(c){var n=function(r){console.log("Latency",e,ut()-l)},i=function(n,i){try{var o=st(function(){return console.log("Started awaiting confirmation for",e),Promise.resolve(function(e,r,t){try{var n=!1,i={slot:0,confirmations:0,err:null},o=0;return Promise.resolve(new Promise(function(s,u){try{setTimeout(function(){n||(n=!0,console.log("Timed out for txid",e),u({timeout:!0}))},r);try{o=t.onSignature(e,function(e,r){n=!0,i={err:e.err,slot:r.slot,confirmations:0},e.err?(console.log("Rejected via websocket",e.err),u(i)):(console.log("Resolved via websocket",e),s(i))},"recent")}catch(r){n=!0,console.error("WS error in setup",e,r)}var c=ot(function(){return!n},void 0,function(){return function(){try{var r=st(function(){return Promise.resolve(t.getSignatureStatuses([e])).then(function(r){i=r&&r.value[0],console.log("https://explorer.solana.com/tx/"+e+"?cluster=devnet"),n||(i?i.err?(console.log("REST error for",e,i),n=!0,u(i.err)):i.confirmations?(console.log("REST confirmation for",e,i),n=!0,s(i)):console.log("REST no confirmations for",e,i):console.log("REST null result for",e,i))})},function(r){n||console.log("REST connection error: transactionId",e,r)});r&&r.then&&r.then(function(){})}catch(e){Promise.reject(e)}}(),Promise.resolve(ct(2e3)).then(function(){})});return Promise.resolve(c&&c.then?c.then(function(){}):void 0)}catch(e){return Promise.reject(e)}})).then(function(e){var r;return i=e,null!=(r=t._signatureSubscriptions)&&r[o]&&t.removeSignatureListener(o),n=!0,console.log("Returning status",i),i})}catch(e){return Promise.reject(e)}}(e,s,r)).then(function(e){if(!e)throw new Error("Timed out awaiting confirmation on transaction");if(e.err)throw console.error(e.err),new Error("Transaction failed: Custom instruction error");f=(null==e?void 0:e.slot)||0})},function(e){function n(){if(i&&i.err){if(i.logs)for(var e=i.logs.length-1;e>=0;--e){var r=i.logs[e];if(r.startsWith("Program log: "))throw new Error("Transaction failed: "+r.slice("Program log: ".length))}throw new Error(JSON.stringify(i.err))}throw new Error("Transaction failed")}if(console.error("Timeout Error caught",e),e.timeout)throw new Error("Timed out awaiting confirmation on transaction");var i=null,o=st(function(){return Promise.resolve(function(e,r,t){try{return Promise.resolve(e.getRecentBlockhash()).then(function(t){r.recentBlockhash=t.blockhash;var n=r.serializeMessage(),i=r._serialize(n).toString("base64");return Promise.resolve(e._rpcRequest("simulateTransaction",[i,{encoding:"base64",commitment:"single"}])).then(function(e){if(e.error)throw new Error("failed to simulate transaction: "+e.error.message);return e.result})})}catch(e){return Promise.reject(e)}}(r,t)).then(function(e){i=e.value})},function(e){console.error("simulate error",e)});return o&&o.then?o.then(n):n()})}catch(e){return i(!0,e)}return o&&o.then?o.then(i.bind(null,!1),i.bind(null,!0)):i(!1,o)}(0,function(e,r){if(o=!0,e)throw r;return r});return i&&i.then?i.then(n):n()}}();return u&&u.then?u.then(n):n()})}catch(e){return Promise.reject(e)}},dt=function(e,r,t,n,i,s,u,c,a,l){void 0===i&&(i="singleGossip"),void 0===s&&(s=!1),void 0===u&&(u=!0),void 0===c&&(c=!0);try{var f=function(t){function i(){return l&&l(),st(function(){return Promise.resolve(pt({connection:e,signedTransaction:m,retry:u,confirmation:c})).then(function(e){return{transactionId:e.transactionId,slot:e.slot}})},function(e){console.error(e)})}var o,a,f;m.recentBlockhash=t.blockhash,s?(o=m).setSigners.apply(o,n.map(function(e){return e.publicKey})):(a=m).setSigners.apply(a,[r.publicKey].concat(n.map(function(e){return e.publicKey}))),n.length>0&&(f=m).partialSign.apply(f,n);var h=function(){if(!s)return Promise.resolve(r.signTransaction(m)).then(function(e){m=e})}();return h&&h.then?h.then(i):i()};if(!r.publicKey)throw new Error("wallet is not connected");var m=new o;return t.forEach(function(e){return m.add(e)}),Promise.resolve(a?f(a):Promise.resolve(e.getRecentBlockhash(i)).then(f))}catch(e){return Promise.reject(e)}},vt=function(e,r,t){try{var n=this;if(!e.publicKey)throw new Error("user wallet not connected");var o=[],s=n.config,u=s.PARIMUTUEL_PROGRAM_ID,c=s.NETWORK,a=e.publicKey;null!=e&&e.hasOwnProperty("_keypair")&&o.push(e);var l=c;return Promise.resolve(n.connection.getAccountInfo(t)).then(function(s){if(!s)throw new Error("no parimutuel account");var c=Yr(Buffer.from(s.data)),f=new i(c.marketKey);return Promise.resolve(Ir(u,a,t)).then(function(i){return Promise.resolve(Oe(u,new ke,l,f,a,t,r,i)).then(function(r){return Promise.resolve(dt(n.connection,e,[r],o,"single",o.length>0)).then(function(e){if(e)return e.transactionId;throw new Error("failed to attach cookie")})})})})}catch(e){return Promise.reject(e)}},bt=function(e){try{var r=this;if(!e.publicKey)throw new Error("user wallet not connected");var t=[],n=r.config,o=n.PARIMUTUEL_PROGRAM_ID,s=n.NETWORK,u=e.publicKey;null!=e&&e.hasOwnProperty("_keypair")&&t.push(e);var c=s;return Promise.resolve(r.connection.getAccountInfo(c)).then(function(n){if(!n)throw new Error("no network account");var s=Qr(Buffer.from(n.data)),a=new i(s.protocolToken);return Promise.resolve(Sr(o,u,c)).then(function(n){return Promise.resolve(Mr(o,n)).then(function(i){return Promise.resolve(Le(o,new Ae,c,e.publicKey,a,n,i)).then(function(n){return Promise.resolve(dt(r.connection,e,[n],t,"max",t.length>0)).then(function(e){if(e)return e.transactionId;throw new Error("failed to create fee payer account")})})})})})}catch(e){return Promise.reject(e)}},wt=function(e,r,t,n,o){try{var s=this;if(!e.publicKey)throw new Error("user wallet not connected");var u=[],c=s.config,a=c.PARIMUTUEL_PROGRAM_ID,l=c.NETWORK,f=e.publicKey;null!=e&&e.hasOwnProperty("_keypair")&&u.push(e);var m=new be({marketOpen:t,marketClose:o,timeWindowStart:n}),h=l;return Promise.resolve(s.connection.getMultipleAccountsInfo([h,r])).then(function(c){var l=c[0],p=c[1];if(!l||!p)throw new Error("no network or market account");var d=Qr(Buffer.from(l.data)),v=Jr(Buffer.from(p.data)),b=new i(d.settlementToken),w=new i(v.underlyingProductOracle),g=new i(v.underlyingPriceOracle);return Promise.resolve(br(a,r,t,n,o)).then(function(t){return Promise.resolve(Wr(a,t)).then(function(n){return Promise.resolve(De(a,m,h,r,f,b,w,g,n,t)).then(function(r){return Promise.resolve(dt(s.connection,e,[r],u,"max",u.length>0,!1,!1)).then(function(e){if(e)return e.transactionId;throw new Error("failed to create parimutuel: "+t.toBase58())})})})})})}catch(e){return Promise.reject(e)}},gt=function(e,r){try{var t=this;if(!e.publicKey)throw new Error("user wallet not connected");var n=[],o=[],s=t.config,u=s.PARIMUTUEL_PROGRAM_ID,c=s.INCENTIVE_PROGRAM_ID,a=s.NETWORK,l=e.publicKey;null!=e&&e.hasOwnProperty("_keypair")&&o.push(e);var f=a;return Promise.resolve(t.connection.getAccountInfo(f)).then(function(s){if(!s)throw new Error("no network account");var a=Qr(Buffer.from(s.data)),m=new i(a.protocolToken),h=new i(a.settlementToken);return Promise.resolve(kr(l,m)).then(function(i){return Promise.resolve(kr(l,h)).then(function(s){return Promise.resolve(t.connection.getMultipleAccountsInfo([i,s])).then(function(a){var p=a[1];if(!a[0]){var d=V(i,l,l,m);n.push(d)}if(!p){var v=V(s,l,l,h);n.push(v)}return Promise.resolve(Sr(u,l,f)).then(function(a){return Promise.resolve(Er(u,l,r)).then(function(m){return Promise.resolve(Rr(c,f)).then(function(h){return Promise.resolve(Ar(c,l,f,h)).then(function(p){return Promise.resolve(Ne(u,new ge,f,r,l,i,s,a,m,p,h,c)).then(function(r){return Promise.resolve(dt(t.connection,e,[].concat(n,[r]),o,"max",o.length>0)).then(function(e){if(e)return e.transactionId;throw new Error("failed to create trader account")})})})})})})})})})})}catch(e){return Promise.reject(e)}},yt=function(e,r){try{var t=this;if(!e.publicKey)throw new Error("user wallet not connected");var n=[],o=t.config,s=o.PARIMUTUEL_PROGRAM_ID,u=o.NETWORK,c=e.publicKey;null!=e&&e.hasOwnProperty("_keypair")&&n.push(e);var a=u;return Promise.resolve(t.connection.getAccountInfo(r)).then(function(o){if(!o)throw new Error("no parimutuel account");var u=Yr(Buffer.from(o.data)),l=new i(u.marketKey);return Promise.resolve(Ir(s,c,r)).then(function(i){return Promise.resolve(Ue(s,new ye,a,l,c,i,r)).then(function(r){return Promise.resolve(dt(t.connection,e,[r],n,"single",n.length>0)).then(function(e){if(e)return e.transactionId;throw new Error("failed to create trader account")})})})})}catch(e){return Promise.reject(e)}},Pt=function(e,r,t,n,o){try{var s=this;if(!e.publicKey)throw new Error("user wallet not connected");var u=[],c=[],a=s.config,l=a.PARIMUTUEL_PROGRAM_ID,f=a.NETWORK,m=e.publicKey;null!=e&&e.hasOwnProperty("_keypair")&&c.push(e);var h=new ve({fees:new q({version:R.FixedFeesV1,protocolFeeBps:n,settlementFeeBps:o})}),p=f;return Promise.resolve(s.connection.getAccountInfo(p)).then(function(n){if(!n)throw new Error("no network account");var o=Qr(Buffer.from(n.data)),a=new i(o.protocolToken),f=new i(o.settlementToken);return Promise.resolve(Cr(l,t,r)).then(function(n){return Promise.resolve(kr(r,a)).then(function(i){return Promise.resolve(kr(r,f)).then(function(o){return Promise.resolve(s.connection.getMultipleAccountsInfo([i,o])).then(function(d){var v=d[1];if(!d[0]){var b=V(i,r,r,a);u.push(b)}if(!v){var w=V(o,r,r,f);u.push(w)}return Promise.resolve(je(l,h,p,t,r,m,n,i,o)).then(function(r){return Promise.resolve(dt(s.connection,e,[].concat(u,[r]),c,"max",c.length>0)).then(function(e){if(e)return e.transactionId;throw new Error("failed to create store")})})})})})})})}catch(e){return Promise.reject(e)}},kt=function(e,r){try{var t=this;if(!e.publicKey)throw new Error("user wallet not connected");var n=[],o=[],s=t.config,u=s.PARIMUTUEL_PROGRAM_ID,c=s.NETWORK;return null!=e&&e.hasOwnProperty("_keypair")&&o.push(e),Promise.resolve(t.connection.getAccountInfo(r)).then(function(s){if(!s)throw new Error("no parimutuel account");var a=Yr(Buffer.from(s.data)),l=new i(a.marketKey),f=c;return Promise.resolve(t.connection.getMultipleAccountsInfo([f,l])).then(function(s){var c=s[0],m=s[1];if(!c)throw new Error("no network account");if(!m)throw new Error("no market account");var h=Qr(Buffer.from(c.data)),p=Jr(Buffer.from(m.data)),d=new i(h.settlementToken),v=new i(h.authority),b=new i(p.underlyingProductOracle),w=new i(p.underlyingPriceOracle);return Promise.resolve(Wr(u,r)).then(function(s){return Promise.resolve(gr(v,d)).then(function(c){return Promise.resolve(t.connection.getAccountInfo(c)).then(function(m){if(!m){var h=V(c,v,v,d);n.push(h)}return Promise.resolve(Ke(u,new we,f,l,b,w,d,c,s,r,new i(a.creator))).then(function(r){return Promise.resolve(dt(t.connection,e,[].concat(n,[r]),o,"single",o.length>0,!1,!1)).then(function(e){if(e)return e.transactionId;throw new Error("failed to update price")})})})})})})})}catch(e){return Promise.reject(e)}},St=function(e,r,t,n,o){try{var s=this;if(!e.publicKey)throw new Error("user wallet not connected");var u=[],c=s.config,a=c.PARIMUTUEL_PROGRAM_ID,l=c.INCENTIVE_PROGRAM_ID,f=c.NETWORK,m=e.publicKey;null!=e&&e.hasOwnProperty("_keypair")&&[].push(e);var h=f;return Promise.resolve(s.connection.getMultipleAccountsInfo([h,r])).then(function(e){var c=e[0],f=e[1];if(!c)throw new Error("no network account");if(!f)throw new Error("no parimutuel account");var p=Yr(Buffer.from(f.data)),d=new i(p.marketKey),v=Qr(Buffer.from(c.data)),b=new i(v.protocolToken),w=new i(v.settlementToken);return Promise.resolve(kr(m,b)).then(function(e){return Promise.resolve(kr(m,w)).then(function(i){return Promise.resolve(s.connection.getMultipleAccountsInfo([e,i])).then(function(s){var c=s[1];if(!s[0]){var f=V(e,m,m,b);u.push(f)}if(!c){var p=V(i,m,m,w);u.push(p)}return Promise.resolve(Sr(a,m,h)).then(function(s){return Promise.resolve(Er(a,m,d)).then(function(c){return Promise.resolve(Mr(a,s)).then(function(f){return Promise.resolve(Ir(a,m,r)).then(function(p){return Promise.resolve(Or(a,p,o)).then(function(v){return Promise.resolve(Wr(a,r)).then(function(w){return Promise.resolve(Rr(l,h)).then(function(g){return Promise.resolve(Ar(l,m,h,g)).then(function(y){return Promise.resolve(Ne(a,new ge,h,d,m,e,i,s,c,y,g,l)).then(function(e){return Promise.resolve(Le(a,new Ae,h,m,b,s,f)).then(function(s){return Promise.resolve(Ue(a,new ye,h,d,m,p,r)).then(function(c){return Promise.resolve(Ge(a,new Se({size:t,side:n,seq:o}),h,d,m,i,p,v,w,r)).then(function(r){return[].concat(u,[e,s,c,r])})})})})})})})})})})})})})})})})}catch(e){return Promise.reject(e)}},Et=function(e,r,t,n,o){try{var s=this;if(!e.publicKey)throw new Error("user wallet not connected");var u=[],c=[],f=s.config,m=f.PARIMUTUEL_PROGRAM_ID,h=f.INCENTIVE_PROGRAM_ID,d=f.NETWORK,v=e.publicKey,b=t-t*(Rt/100);null!=e&&e.hasOwnProperty("_keypair")&&c.push(e);var w=d;return Promise.resolve(s.connection.getMultipleAccountsInfo([w,r])).then(function(f){var d=f[0],g=f[1];if(!d)throw new Error("no network account");if(!g)throw new Error("no parimutuel account");var y=Yr(Buffer.from(g.data)),P=new i(y.marketKey),k=Qr(Buffer.from(d.data)),S=new i(k.protocolToken),E=new i(k.settlementToken);return Promise.resolve(kr(v,S)).then(function(f){return Promise.resolve(kr(v,E)).then(function(d){return Promise.resolve(s.connection.getMultipleAccountsInfo([f,d])).then(function(g){var y=g[1];if(!g[0]){var k=V(f,v,v,S);u.push(k)}if(!y){var A=V(d,v,v,E);u.push(A)}return Promise.resolve(Sr(m,v,w)).then(function(g){return Promise.resolve(Er(m,v,P)).then(function(y){return Promise.resolve(Mr(m,g)).then(function(k){return Promise.resolve(Ir(m,v,r)).then(function(A){return Promise.resolve(Or(m,A,o)).then(function(R){return Promise.resolve(Wr(m,r)).then(function(T){return Promise.resolve(Rr(h,w)).then(function(_){return Promise.resolve(Ar(h,v,w,_)).then(function(W){return Promise.resolve(Ne(m,new ge,w,P,v,f,d,g,y,W,_,h)).then(function(f){return Promise.resolve(Le(m,new Ae,w,v,S,g,k)).then(function(h){return Promise.resolve(Ue(m,new ye,w,P,v,A,r)).then(function(g){return Promise.resolve(Ge(m,new Se({size:b,side:n,seq:o}),w,P,v,d,A,R,T,r)).then(function(r){return Promise.resolve(p.getAssociatedTokenAddress(a,l,E,v)).then(function(n){var o;if(E.toString()==s.config.BONK_MINT.toString())o=new i("6p7aQTngHmPy3srAM1ZuC5BKoYz94TpQJqcYH941Z72B");else{if(E.toString()!=s.config.USDC_MINT.toString())throw new Error("Settlement mint token not implemented");o=new i("8Ti1Wg3X6Bx4fuLwLcDwwsrmU3ghPBQwoRmqv8Gao73Q")}var a=p.createTransferInstruction(l,n,o,v,[],Rt/100*t);return Promise.resolve(dt(s.connection,e,[].concat(u,[a,f,h,g,r]),c,"max",c.length>0)).then(function(e){if(e)return e.transactionId;throw new Error("failed to update position")})})})})})})})})})})})})})})})})})})}catch(e){return Promise.reject(e)}},At=function(e,r,t,n,o){try{var s=this;if(!e.publicKey)throw new Error("user wallet not connected");var u=[],c=[],a=s.config,l=a.PARIMUTUEL_PROGRAM_ID,f=a.INCENTIVE_PROGRAM_ID,m=a.NETWORK,h=e.publicKey;null!=e&&e.hasOwnProperty("_keypair")&&c.push(e);var p=m;return Promise.resolve(s.connection.getMultipleAccountsInfo([p,r])).then(function(a){var m=a[0],d=a[1];if(!m)throw new Error("no network account");if(!d)throw new Error("no parimutuel account");var v=Yr(Buffer.from(d.data)),b=new i(v.marketKey),w=Qr(Buffer.from(m.data)),g=new i(w.protocolToken),y=new i(w.settlementToken);return Promise.resolve(kr(h,g)).then(function(i){return Promise.resolve(kr(h,y)).then(function(a){return Promise.resolve(s.connection.getMultipleAccountsInfo([i,a])).then(function(m){var d=m[1];if(!m[0]){var v=V(i,h,h,g);u.push(v)}if(!d){var w=V(a,h,h,y);u.push(w)}return Promise.resolve(Sr(l,h,p)).then(function(m){return Promise.resolve(Er(l,h,b)).then(function(d){return Promise.resolve(Mr(l,m)).then(function(v){return Promise.resolve(Ir(l,h,r)).then(function(w){return Promise.resolve(Or(l,w,o)).then(function(y){return Promise.resolve(Wr(l,r)).then(function(P){return Promise.resolve(Rr(f,p)).then(function(k){return Promise.resolve(Ar(f,h,p,k)).then(function(S){return Promise.resolve(Ne(l,new ge,p,b,h,i,a,m,d,S,k,f)).then(function(i){return Promise.resolve(Le(l,new Ae,p,h,g,m,v)).then(function(f){return Promise.resolve(Ue(l,new ye,p,b,h,w,r)).then(function(m){return Promise.resolve(Ge(l,new Se({size:t,side:n,seq:o}),p,b,h,a,w,y,P,r)).then(function(r){return Promise.resolve(dt(s.connection,e,[].concat(u,[i,f,m,r]),c,"max",c.length>0)).then(function(e){if(e)return e.transactionId;throw new Error("failed to update position")})})})})})})})})})})})})})})})})})}catch(e){return Promise.reject(e)}},Rt=2,Tt=function(e,r,t){try{var n=this;if(!e.publicKey)throw new Error("user wallet not connected");var o=[],s=n.config,u=s.NETWORK,c=s.PARIMUTUEL_PROGRAM_ID,a=s.INCENTIVE_PROGRAM_ID,l=s.STAKING_PROGRAM_ID,f=s.HXRO_MINT,m=s.ESHXRO_MINT,h=s.LHXRO_MINT,p=s.STAKE_POOL;return null!=e&&e.hasOwnProperty("_keypair")&&o.push(e),Promise.resolve(n.connection.getAccountInfo(t)).then(function(s){if(!s)throw new Error("no parimutuel account");var d=Yr(Buffer.from(s.data)),v=new i(d.marketKey),b=new i(d.creator),w=u;return Promise.resolve(n.connection.getMultipleAccountsInfo([w,v])).then(function(s){var u=s[0],d=s[1];if(!u)throw new Error("no network account");if(!d)throw new Error("no market account");var g=Qr(Buffer.from(u.data)),y=Jr(Buffer.from(d.data)),P=new i(g.settlementToken),k=new i(g.authority);return Promise.resolve(gr(k,P)).then(function(s){var u=new i(y.authority);return Promise.resolve(Pr(u,P)).then(function(i){return Promise.resolve(kr(r,P)).then(function(u){return Promise.resolve(Ir(c,r,t)).then(function(d){return Promise.resolve(n.connection.getMultipleAccountsInfo([s,i,u,d])).then(function(g){var y=g[1],k=g[2],S=g[3];if(!g[0])throw new Error("no network settlement account");if(!y)throw new Error("no market settlement account");if(!k)throw new Error("no settlement token account");if(!S)throw new Error("no position account");return Promise.resolve(Wr(c,t)).then(function(g){return Promise.resolve(Sr(c,r,w)).then(function(y){return Promise.resolve(Er(c,r,v)).then(function(k){return Promise.resolve(Mr(c,y)).then(function(S){return Promise.resolve(Rr(a,w)).then(function(E){return Promise.resolve(Ar(a,r,w,E)).then(function(A){return Promise.resolve(Tr(c,w)).then(function(R){return Promise.resolve(_r(l,r,p)).then(function(l){return Promise.resolve(xe(c,new Ee,w,v,r,P,u,S,y,s,i,k,d,g,t,b,A,E,R,p,l,f,m,h,a)).then(function(r){return Promise.resolve(dt(n.connection,e,[r],o,"max",o.length>0,!1,!1)).then(function(e){if(e)return e.transactionId;throw new Error("failed to settle position")})})})})})})})})})})})})})})})})})}catch(e){return Promise.reject(e)}},_t=function(e,r){try{var t=this;if(!e.publicKey)throw new Error("user wallet not connected");var n=[],o=t.config,s=o.PARIMUTUEL_PROGRAM_ID,u=o.NETWORK,c=e.publicKey;null!=e&&e.hasOwnProperty("_keypair")&&n.push(e);var a=u;return Promise.resolve(t.connection.getAccountInfo(a)).then(function(o){if(!o)throw new Error("no network account");var u=Qr(Buffer.from(o.data));return Promise.resolve(Sr(s,c,a)).then(function(o){return Promise.resolve(Mr(s,o)).then(function(l){var f=new i(u.protocolToken);return Promise.resolve(kr(c,f)).then(function(i){return Promise.resolve(Ve(s,new Re({amount:r}),a,e.publicKey,f,i,o,l)).then(function(r){return Promise.resolve(dt(t.connection,e,[r],n,"single",n.length>0)).then(function(e){if(e)return e.transactionId;throw new Error("failed to withdraw fee")})})})})})})}catch(e){return Promise.reject(e)}},Wt=function(e,r,t,n){try{var o=this;if(!e.publicKey)throw new Error("user wallet not connected");var s=[],u=[],c=o.config,a=c.PARIMUTUEL_PROGRAM_ID,f=c.INCENTIVE_PROGRAM_ID,m=c.NETWORK,h=e.publicKey;null!=e&&e.hasOwnProperty("_keypair")&&u.push(e);var d=m;return Promise.resolve(o.connection.getAccountInfo(d)).then(function(c){if(!c)throw new Error("no network account");var m=Qr(Buffer.from(c.data)),v=new i(m.protocolToken),b=new i(m.settlementToken);return Promise.resolve(kr(h,v)).then(function(i){return Promise.resolve(kr(h,b)).then(function(c){return Promise.resolve(o.connection.getMultipleAccountsInfo([i,c])).then(function(m){var w=m[1];if(!m[0]){var g=V(i,h,h,v);s.push(g)}if(!w){var y=V(c,h,h,b);s.push(y)}return Promise.resolve(Sr(a,h,d)).then(function(m){return Promise.resolve(Mr(a,m)).then(function(b){return Promise.resolve(Er(a,h,r)).then(function(w){return Promise.resolve(Rr(f,d)).then(function(g){return Promise.resolve(Ar(f,h,d,g)).then(function(y){return Promise.resolve(Ne(a,new ge,d,r,h,i,c,m,w,y,g,f)).then(function(r){return Promise.resolve(Le(a,new Ae,d,h,v,m,b)).then(function(i){return Promise.resolve(kr(h,t)).then(function(c){return Promise.resolve(o.connection.getAccountInfo(c)).then(function(a){var f=void 0;a||(f=V(c,h,h,t),s.push(f));var m=p.createTransferInstruction(l,c,b,h,[],n);return Promise.resolve(dt(o.connection,e,[].concat(s,[r,i,m]),u,"max",u.length>0)).then(function(e){if(e)return e.transactionId;throw new Error("failed to deposit fee")})})})})})})})})})})})})})})}catch(e){return Promise.reject(e)}},It=function(e,r,t,n){try{var i=this;return Promise.resolve(kr(e,r)).then(function(u){return Promise.resolve(i.connection.getAccountInfo(u)).then(function(c){function a(e){var o=new p(i.connection,r,l,t);return Promise.resolve(o.mintTo(u,t,[],n)).then(function(){})}var f=function(){if(!c){var n=V(u,t.publicKey,e,r),a=(new o).add(n);return Promise.resolve(s(i.connection,a,[t],{commitment:"confirmed"})).then(function(e){if(!e)throw new Error("failed to create trader token account")})}}();return f&&f.then?f.then(a):a()})})}catch(e){return Promise.reject(e)}},Ot=function(e,r,t,n,o,s,u,c,a,l,f,m){void 0===a&&(a=10),void 0===l&&(l=150),void 0===f&&(f=100),void 0===m&&(m=300);try{var h=this;if(void 0===c&&(c=new g(1e6)),!e.publicKey)throw new Error("user wallet not connected");var p=[],d=h.config,v=d.PARIMUTUEL_PROGRAM_ID,b=d.NETWORK,w=e.publicKey;null!=e&&e.hasOwnProperty("_keypair")&&p.push(e);var y=new pe({fees:new ne({version:1,protocolTokenRequiredForMinFee:c,minProtocolFeeBps:a,maxProtocolFeeBps:l,minSettlementFeeBps:f,maxSettlementFeeBps:m})}),P=b;return Promise.resolve(h.connection.getMultipleAccountsInfo([P])).then(function(c){var a=c[0];if(!a)throw new Error("no network or market account");var l=Qr(Buffer.from(a.data));return Promise.resolve(Be(v,y,P,w,n||new i(l.protocolProductOracle),o||new i(l.protocolPriceOracle),s||new i(l.protocolFeeCollector),u||new i(l.settlementFeeCollector),r||new i(l.protocolToken),t||new i(l.settlementToken))).then(function(r){return Promise.resolve(dt(h.connection,e,[r],p,"max",p.length>0,!1)).then(function(e){if(e)return e.transactionId;throw new Error("failed to update network: "+P.toBase58())})})})}catch(e){return Promise.reject(e)}},Mt=function(e,r){try{var t=this;if(!e.publicKey)throw new Error("user wallet not connected");var n=[],o=t.config,s=o.PARIMUTUEL_PROGRAM_ID,u=o.NETWORK;return null!=e&&e.hasOwnProperty("_keypair")&&n.push(e),Promise.resolve(t.connection.getAccountInfo(r)).then(function(o){if(!o)throw new Error("no parimutuel account");var c=Yr(Buffer.from(o.data)),a=new i(c.marketKey),l=new i(c.creator),f=u;return Promise.resolve(t.connection.getMultipleAccountsInfo([f,a])).then(function(o){var u=o[0],c=o[1];if(!u)throw new Error("no network account");if(!c)throw new Error("no market account");var m=Qr(Buffer.from(u.data)),h=Jr(Buffer.from(c.data)),p=new i(m.settlementToken),d=new i(h.underlyingProductOracle),v=new i(h.underlyingPriceOracle);return Promise.resolve(Wr(s,r)).then(function(i){return Promise.resolve(gr(f,p)).then(function(o){return Promise.resolve(qe(s,new Te,f,a,d,v,r,l,i,p,o)).then(function(r){return Promise.resolve(dt(t.connection,e,[r],n,"max",n.length>0,!1,!1)).then(function(e){if(e)return e.transactionId;throw new Error("failed to destroy parimutuel")})})})})})})}catch(e){return Promise.reject(e)}},Bt=function(e,r,t,n){try{var o=this;if(!e.publicKey)throw new Error("user wallet not connected");var s=[],u=o.config,c=u.PARIMUTUEL_PROGRAM_ID,a=u.NETWORK;return null!=e&&e.hasOwnProperty("_keypair")&&s.push(e),Promise.resolve(o.connection.getAccountInfo(t)).then(function(u){if(!u)throw new Error("no parimutuel account");var l=Yr(Buffer.from(u.data)),f=new i(l.marketKey),m=a;return Promise.resolve(o.connection.getMultipleAccountsInfo([m,f])).then(function(i){var u=i[1];if(!i[0])throw new Error("no network account");if(!u)throw new Error("no market account");return Promise.resolve(Ir(c,r,t)).then(function(i){return Promise.resolve(Or(c,i,n)).then(function(n){return Promise.resolve(ze(c,new We,m,f,r,i,n,t)).then(function(r){return Promise.resolve(dt(o.connection,e,[r],s,"max",s.length>0,!1,!1)).then(function(e){if(e)return e.transactionId;throw new Error("failed to destroy position entry")})})})})})})}catch(e){return Promise.reject(e)}},Ct=function(e,r,t){try{var n=this;if(!e.publicKey)throw new Error("user wallet not connected");var o=[],s=n.config,u=s.PARIMUTUEL_PROGRAM_ID,c=s.NETWORK;return null!=e&&e.hasOwnProperty("_keypair")&&o.push(e),Promise.resolve(n.connection.getAccountInfo(t)).then(function(s){if(!s)throw new Error("no parimutuel account");var a=Yr(Buffer.from(s.data)),l=new i(a.marketKey),f=c;return Promise.resolve(n.connection.getMultipleAccountsInfo([f,l])).then(function(i){var s=i[1];if(!i[0])throw new Error("no network account");if(!s)throw new Error("no market account");return Promise.resolve(Ir(u,r,t)).then(function(i){return Promise.resolve(Qe(u,new _e,f,l,r,i,t)).then(function(r){return Promise.resolve(dt(n.connection,e,[r],o,"max",o.length>0,!1,!1)).then(function(e){if(e)return e.transactionId;throw new Error("failed to destroy position")})})})})})}catch(e){return Promise.reject(e)}},Kt=function(){try{var e=this.config.NETWORK;return Promise.resolve(this.connection.getAccountInfo(e)).then(function(r){if(!r)throw new Error("Failed to find network account");var t=Buffer.from(r.data);return{pubkey:e,account:r,info:{network:Qr(t),linearFees:qr(t.slice(-65))}}})}catch(e){return Promise.reject(e)}},Lt=function(e){try{var r=tr(this.config,e).map(function(e){return e.pubkey});return Promise.resolve(this.connection.getMultipleAccountsInfo(r)).then(function(e){return e.map(function(e,t){if(!e)return null;var n=Buffer.from(e.data);return{pubkey:r[t],account:e,info:{market:Jr(n),fixedFees:Vr(n.slice(-65))}}}).filter(hr)})}catch(e){return Promise.reject(e)}},Nt=function(e,r){try{var t=this;if(!e)return Promise.resolve([]);var n=t.config.PARIMUTUEL_PROGRAM_ID,o=e.map(function(e){var t=e.duration;return Fr(e.pubkey.toBase58(),1e3*t,r||5)}).flat(),s=e.map(function(e){var t=e.duration;return Nr(e.pubkey.toBase58(),1e3*t,r||5)}).flat(),u=E([].concat(s,o),A);return Promise.resolve(Promise.all(u.map(function(e){try{return Promise.resolve(br(n,new i(e.marketPubkey),0,e.startTime,e.startTime))}catch(e){return Promise.reject(e)}}))).then(function(e){return Promise.resolve(Lr(t.connection,e.map(function(e){return e}))).then(function(r){return r.map(function(r,t){return r?{pubkey:e[t],account:r.account,info:{parimutuel:Yr(r.account.data)}}:null}).filter(hr)})})}catch(e){return Promise.reject(e)}},Ft=function(e){try{return Promise.resolve(this.connection.getAccountInfo(e)).then(function(r){if(!r)throw new Error("no parimutuel account");return{pubkey:e,account:r,info:{parimutuel:Yr(r.data)}}})}catch(e){return Promise.reject(e)}},Ut=function(e){try{var r=this;return Promise.resolve(r.connection.getProgramAccounts(r.config.PARIMUTUEL_PROGRAM_ID,{filters:[{dataSize:172},{memcmp:{offset:42,bytes:null==e?void 0:e.toBase58()}}]})).then(function(e){var t=e.map(function(e){return et(e.account.data)});return Promise.resolve(Lr(r.connection,t.map(function(e){return new i(e.parimutuel)}))).then(function(r){return e.map(function(e,t){var n=Yr(P(r,[t,"account","data"])),o=et(e.account.data);return{pubkey:e.pubkey,account:e.account,info:{parimutuelPubkey:new i(o.parimutuel),parimutuel:n,market:P([],[n.marketKey,"info"]),position:o}}})})})}catch(e){return Promise.reject(e)}},Dt=function(e,r){try{var t=this;return Promise.resolve(t.connection.getProgramAccounts(t.config.PARIMUTUEL_PROGRAM_ID,{filters:[{dataSize:172},{memcmp:{offset:74,bytes:null==e?void 0:e.toBase58()}}]})).then(function(e){var n=e.map(function(e){return et(e.account.data)});return Promise.resolve(Lr(t.connection,n.map(function(e){return new i(e.parimutuel)}))).then(function(t){return e.map(function(e,n){var o=Yr(P(t,[n,"account","data"])),s=et(e.account.data);return{pubkey:e.pubkey,account:e.account,info:{parimutuelPubkey:new i(s.parimutuel),parimutuel:o,market:P(r,[o.marketKey,"info"]),position:s}}})})})}catch(e){return Promise.reject(e)}},jt=function(e){try{var r=this;return Promise.resolve(r.connection.getProgramAccounts(r.config.PARIMUTUEL_PROGRAM_ID,{filters:[{dataSize:123},{memcmp:{offset:34,bytes:null==e?void 0:e.toBase58()}}]})).then(function(e){var t=e.map(function(e){return rt(e.account.data)}),n=t.map(function(e){return new i(e.traderPosition)});return Promise.resolve(Lr(r.connection,n)).then(function(r){var n=r.map(function(e){return e?et(e.account.data):null});return e.map(function(e,r){var o=n[r];return{pubkey:e.pubkey,account:e.account,info:{parimutuelPubkey:new i(null!==o?o.parimutuel:""),entry:t[r]}}})})})}catch(e){return Promise.reject(e)}},Gt=function(e,r){try{var t=this,n=0,o=0,s=0,u=0,c=t.config,a=c.NETWORK_PROTOCOL_FEE_COLLECTOR,l=c.MARKET_PROTOCOL_FEE_COLLECTOR;return Promise.resolve(t.connection.getAccountInfo(c.NETWORK)).then(function(c){if(!c)throw new Error("no network account");var f=Qr(Buffer.from(c.data)),m=new i(f.protocolToken),h=new i(f.settlementToken);return Promise.resolve(wr(e,m)).then(function(i){return Promise.resolve(gr(e,h)).then(function(e){return Promise.resolve(yr(r,m)).then(function(c){return Promise.resolve(Pr(r,h)).then(function(r){return Promise.resolve(t.connection.getMultipleAccountsInfo([null!=a?a:i,e,null!=l?l:c,r])).then(function(t){var f=t[0],m=t[1],h=t[2],p=t[3];if(f){var d=xr(f.data);n=Number(d.amount)||0}if(m){var v=xr(m.data);o=Number(v.amount)||0}if(h){var b=xr(h.data);s=Number(b.amount)||0}if(p){var w=xr(p.data);u=Number(w.amount)||0}return{network:{protocolFeeAccountPubkey:null!=a?a:i,protocolFeeAmount:n,settlementFeeAccountPubkey:e,settlementFeeAmount:o},market:{protocolFeeAccountPubkey:null!=l?l:c,protocolFeeAmount:s,settlementFeeAccountPubkey:r,settlementFeeAmount:u}}})})})})})})}catch(e){return Promise.reject(e)}},xt=function(e,r){try{var t=this;return Promise.resolve(Sr(t.config.PARIMUTUEL_PROGRAM_ID,e,r)).then(function(e){return Promise.resolve(t.connection.getAccountInfo(e)).then(function(r){if(!r)throw new Error("no trader account");return{pubkey:e,account:r,info:{traderAccount:Zr(null==r?void 0:r.data)}}})})}catch(e){return Promise.reject(e)}},Ht=function(e,r){try{var t=this,n=t.config.PARIMUTUEL_PROGRAM_ID;return Promise.resolve(Sr(n,e,r)).then(function(e){return Promise.resolve(Mr(n,e)).then(function(e){return Promise.resolve(t.connection.getAccountInfo(e)).then(function(r){if(!r)throw new Error("no fee payer account");return{pubkey:e,account:r,info:{tokenAccount:{pubkey:e.toBase58(),account:r,info:xr(r.data)}}}})})})}catch(e){return Promise.reject(e)}},Vt=function(e){try{return Promise.resolve(this.connection.getAccountInfo(e)).then(function(e){if(!e)throw new Error("Failed to find account");var r=Buffer.from(e.data),t=Xr(r),n=Vr(r.slice(-65));return t.fee=n,t})}catch(e){return Promise.reject(e)}},qt=function(e,r){var t;this.config=void 0,this.connection=void 0,this.updateNetwork=Ot.bind(this),this.createParimutuel=wt.bind(this),this.updatePrice=kt.bind(this),this.placePosition=At.bind(this),this.getPlacePositionInstruction=St.bind(this),this.placePositionWithOperator=Et.bind(this),this.settlePosition=Tt.bind(this),this.destroyParimutuel=Mt.bind(this),this.destroyPosition=Ct.bind(this),this.destroyPositionEntry=Bt.bind(this),this.transferToken=It.bind(this),this.depositFee=Wt.bind(this),this.withdrawFee=_t.bind(this),this.createStore=Pt.bind(this),this.attachCookie=vt.bind(this),this.getFees=Gt.bind(this),this.getMarkets=Lt.bind(this),this.getNetwork=Kt.bind(this),this.getNetworkTraderAccount=xt.bind(this),this.getParimutuel=Ft.bind(this),this.getParimutuels=Nt.bind(this),this.getUserPositions=Dt.bind(this),this.getParimutuelPositions=Ut.bind(this),this.getEntries=jt.bind(this),this.getStore=Vt.bind(this),this.getTraderFeePayerAccount=Ht.bind(this),this.config=e,this.connection=new u(null!=(t=e.SOLANA_CLUSTER_URL)?t:c("devnet"),"recent"),r&&(this.connection=r)};!function(e){e.DEV="dev",e.STAGING="staging",e.CUSTOM="custom"}(ht||(ht={}));var zt={PARIMUTUEL_PROGRAM_ID:new i("3kjK4HA6A4K86NgNB93gGhSt257wtN4QAqXMNPQ4fVTm"),INCENTIVE_PROGRAM_ID:new i("5u8mLVnUSQNSbKdZPNGTfWHGwV5uJh9by5Fa6jb6BP6h"),STAKING_PROGRAM_ID:new i("2jmux3fWV5zHirkEZCoSMEgTgdYZqkE9Qx2oQnxoHRgA"),NETWORK:new i("2xJcpMZvegKZ6GCYzUp74DfEFtPss66XNzV932xgSgNW"),NETWORK_PROTOCOL_FEE_COLLECTOR:new i("3QxkXnrh7EHYwQp7s6x7t5nJidyGVC7mVNFwGpy6FV5F"),MARKET_PROTOCOL_FEE_COLLECTOR:new i("Fcbzf2591V4rWw83yLUjkA646F2twxzLeZinbbSMYece"),HXRO_MINT:new i("265iYi4pVmorRzrq3X7Eudy6uCKMeDxXiTDkh92vARTE"),ESHXRO_MINT:new i("8Gbc9RqfTsQ8WUWcAmwwU8hiKRxhmvvNXbiFmsraSgPr"),LHXRO_MINT:new i("6rLF29hK8dQe6ZeZws16sKMG5AXuNzTwnBtbCFt6DSBN"),USDC_MINT:new i("DXSVQJqJbNTTcGqCkfHnQYXwG5GhZsfg2Ka9tNkK3ohr"),BONK_MINT:new i("bonkKjzREa7pVBRD6nFPAKRaHhS7XpDhhgZCZdGNkuU"),STAKE_POOL:new i("9zdpqAgENj4734TQvqjczMg2ekvvuGsxwJC6f7F1QWp4"),oracles:{HXRO_USD_ORACLE:new i("6C4PJ4bMuLFmvHRqSkmGeyoSGAKMfPG1um1k1suryfs"),HXRO_PRICE_ORACLE:new i("6VrSw4Vxg5zs9shfdCxLqfUy2qSD3NCS9AsdBQUgbjnt"),SOL_USD_ORACLE:new i("3Mnn2fX6rQyUsyELYms1sBJyChWofzSNRoqYzvgMVz5E"),SOL_PRICE_ORACLE:new i("J83w4HKfqxwcq3BEMMkPFSppX3gqekLyLJBexebFVkix"),BTC_USD_ORACLE:new i("3m1y5h2uv7EQL3KaJZehvAJa4yDNvgc5yAdL9KPMKwvk"),BTC_PRICE_ORACLE:new i("HovQMDrbAgAYPCmHVSrezcSmkMtXSSUsLDFANExrZh2J"),ETH_USD_ORACLE:new i("2ciUuGZiee5macAMeQ7bHGTJtwcYTgnt6jdmQnnKZrfu"),ETH_PRICE_ORACLE:new i("EdVCmQ9FSPcVe5YySXDPCRmc8aDQLKJ9xvYBMZPie1Vw")},markets:(at={},at[Z.SOLUSD]={MARKET_60S:new i("FBaFPMJZ9UPHwrbCYLytuSpA15u3pY9cKjJQ4z5Ag59q"),MARKET_300S:new i("AySG6K4cNHvy3YpHFb1JcmmEhBfLfCzYgNXqpdfgbQoE"),MARKET_900S:new i("HzLNwHEMH3aAY9F8gRAdJEfe2J3opdxr1mDPt8AuLEkh"),MARKET_3600S:new i("BqJAZHr56t14QABZLygZYWe7WozVSVPLQb6yDSj9f8U1"),MARKET_86400S:new i("2MMLwY7VaDTS3ZSd1ZkmzCQxrJWjxmWgEXLPEA3nm9Pz")},at[Z.BTCUSD]={MARKET_60S:new i("2J8yR9G1yXebijHYuRFe4iWQfKxYt8LLGN2mfxKCLWWM"),MARKET_300S:new i("8WiZ4VTsq8fG92osksPbrc5E3raeL839D83Q8pxuXH8m"),MARKET_900S:new i("79omw4hStqWfPnQXPinEF2yDFFakjvXanwMZZ7YYFL94"),MARKET_3600S:new i("7hbU86BtQUkZUw8jJpqgaRgp1Wyxgp2LSTyY1oSoznvP"),MARKET_86400S:new i("HjdzuJ5LhiLJLKaR4sCCHj3FwmkWEHNXpGVEPUTPFRtx")},at[Z.ETHUSD]={MARKET_60S:new i("CX9JDCAut5ShXYdQFAX9oSo93wmi86Xkb7SgagsgkXmM"),MARKET_300S:new i("F35oVkVWKSYHqaw66U1PHgZtmPeJMcTArEPvX3PCukTH"),MARKET_900S:new i("BRDqHv4enme3piwh228yyVk1sBuxa8Q7mgwq7SYwsPfA"),MARKET_3600S:new i("7MDcHRxHhTdDmhCMRVC9hgb29CFMbTTG5jT3thpqqqJK"),MARKET_86400S:new i("8kw8BAWcgm78PMmHsKoXUGKZXnUPZUaXCw8SdrRAjJ3E")},at)},Qt={MARKET_PROTOCOL_FEE_COLLECTOR:void 0,NETWORK_PROTOCOL_FEE_COLLECTOR:void 0,SOLANA_CLUSTER_URL:"https://api.devnet.solana.com",PARIMUTUEL_PROGRAM_ID:new i("3kjK4HA6A4K86NgNB93gGhSt257wtN4QAqXMNPQ4fVTm"),INCENTIVE_PROGRAM_ID:new i("5u8mLVnUSQNSbKdZPNGTfWHGwV5uJh9by5Fa6jb6BP6h"),STAKING_PROGRAM_ID:new i("2jmux3fWV5zHirkEZCoSMEgTgdYZqkE9Qx2oQnxoHRgA"),NETWORK:new i("5QW1YiTeLWft63Y4LCXfKCzQUDApzpJWeQh6gqXT8Mf1"),HXRO_MINT:new i("265iYi4pVmorRzrq3X7Eudy6uCKMeDxXiTDkh92vARTE"),ESHXRO_MINT:new i("8Gbc9RqfTsQ8WUWcAmwwU8hiKRxhmvvNXbiFmsraSgPr"),LHXRO_MINT:new i("6rLF29hK8dQe6ZeZws16sKMG5AXuNzTwnBtbCFt6DSBN"),USDC_MINT:new i("DXSVQJqJbNTTcGqCkfHnQYXwG5GhZsfg2Ka9tNkK3ohr"),BONK_MINT:new i("bonkKjzREa7pVBRD6nFPAKRaHhS7XpDhhgZCZdGNkuU"),STAKE_POOL:new i("9zdpqAgENj4734TQvqjczMg2ekvvuGsxwJC6f7F1QWp4"),oracles:{HXRO_USD_ORACLE:new i("6C4PJ4bMuLFmvHRqSkmGeyoSGAKMfPG1um1k1suryfs"),HXRO_PRICE_ORACLE:new i("6VrSw4Vxg5zs9shfdCxLqfUy2qSD3NCS9AsdBQUgbjnt"),SOL_USD_ORACLE:new i("3Mnn2fX6rQyUsyELYms1sBJyChWofzSNRoqYzvgMVz5E"),SOL_PRICE_ORACLE:new i("J83w4HKfqxwcq3BEMMkPFSppX3gqekLyLJBexebFVkix"),BTC_USD_ORACLE:new i("3m1y5h2uv7EQL3KaJZehvAJa4yDNvgc5yAdL9KPMKwvk"),BTC_PRICE_ORACLE:new i("HovQMDrbAgAYPCmHVSrezcSmkMtXSSUsLDFANExrZh2J"),ETH_USD_ORACLE:new i("2ciUuGZiee5macAMeQ7bHGTJtwcYTgnt6jdmQnnKZrfu"),ETH_PRICE_ORACLE:new i("EdVCmQ9FSPcVe5YySXDPCRmc8aDQLKJ9xvYBMZPie1Vw")},markets:(lt={},lt[Z.SOLUSD]={MARKET_60S:new i("DeQFZzcWkEUeYju6GoizSbZotynYdB4XfkNgf21LtZjs")},lt[Z.BTCUSD]={MARKET_60S:new i("BswfdHHVnYRMQmDMYNcMF89tWfnQcCwtraCNDgnv8sVE")},lt[Z.ETHUSD]={},lt)},Xt={MARKET_PROTOCOL_FEE_COLLECTOR:void 0,NETWORK_PROTOCOL_FEE_COLLECTOR:void 0,SOLANA_CLUSTER_URL:"https://api.mainnet-beta.solana.com",PARIMUTUEL_PROGRAM_ID:new i("GUhB2ohrfqWspztgCrQpAmeVFBWmnWYhPcZuwY52WWRe"),INCENTIVE_PROGRAM_ID:new i("5u8mLVnUSQNSbKdZPNGTfWHGwV5uJh9by5Fa6jb6BP6h"),STAKING_PROGRAM_ID:new i("2jmux3fWV5zHirkEZCoSMEgTgdYZqkE9Qx2oQnxoHRgA"),NETWORK:new i("AARaFgaGwAoZAGqwf8Kn5aqxpZvuDotMMH6HgckJpCC7"),HXRO_MINT:new i("HxhWkVpk5NS4Ltg5nij2G671CKXFRKPK8vy271Ub4uEK"),ESHXRO_MINT:new i("CPwspzHc4bKtBQGNRhpRG9v3qRiPLWP28GrfZepwmBSz"),LHXRO_MINT:new i("36VFoo1rQ7a1w45jBwHmr2sodnUUhRtL7K6fsx2tuMwb"),USDC_MINT:new i("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),BONK_MINT:new i("DezXAZ8z7PnrnRJjz3wXBoRgixCa6xjnB7YaB1pPB263"),STAKE_POOL:new i("9zdpqAgENj4734TQvqjczMg2ekvvuGsxwJC6f7F1QWp4"),oracles:{HXRO_USD_ORACLE:new i("BJqTdFytBhGWpq183a5EPo123cB6gitTAmSSsCta3RGG"),HXRO_PRICE_ORACLE:new i("B47CC1ULLw1jKTSsr1N1198zrUHp3LPduzepJyzgLn2g"),SOL_USD_ORACLE:new i("ALP8SdU9oARYVLgLR7LrqMNCYBnhtnQz1cj6bwgwQmgj"),SOL_PRICE_ORACLE:new i("H6ARHf6YXhGYeQfUzQNGk6rDNnLBQKrenN712K4AQJEG"),BTC_USD_ORACLE:new i("4aDoSXJ5o3AuvL7QFeR6h44jALQfTmUUCTVGDD6aoJTM"),BTC_PRICE_ORACLE:new i("GVXRSBjFk6e6J3NbVPXohDJetcTjaeeuykUpbQF8UoMU"),ETH_USD_ORACLE:new i("EMkxjGC1CQ7JLiutDbfYb7UKb3zm9SJcUmr1YicBsdpZ"),ETH_PRICE_ORACLE:new i("JBu1AL4obBcCMqKBBxhpWCNUt136ijcuMZLFvTP7iWdB")},markets:(ft={},ft[Z.SOLUSD]={MARKET_60S:new i("6BWYu93T3ZiRntvYfRhqpkJJb7VNGt8yUcKPVSFCiYCa")},ft[Z.BTCUSD]={},ft[Z.ETHUSD]={},ft)},Jt={PARIMUTUEL_PROGRAM_ID:new i("GUhB2ohrfqWspztgCrQpAmeVFBWmnWYhPcZuwY52WWRe"),INCENTIVE_PROGRAM_ID:new i("5u8mLVnUSQNSbKdZPNGTfWHGwV5uJh9by5Fa6jb6BP6h"),STAKING_PROGRAM_ID:new i("2jmux3fWV5zHirkEZCoSMEgTgdYZqkE9Qx2oQnxoHRgA"),NETWORK:new i("FoCmS48FRyJrx6bozDijaARYAThdUeUGu4rbGKqBegcH"),HXRO_MINT:new i("HxhWkVpk5NS4Ltg5nij2G671CKXFRKPK8vy271Ub4uEK"),ESHXRO_MINT:new i("CPwspzHc4bKtBQGNRhpRG9v3qRiPLWP28GrfZepwmBSz"),LHXRO_MINT:new i("36VFoo1rQ7a1w45jBwHmr2sodnUUhRtL7K6fsx2tuMwb"),USDC_MINT:new i("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),BONK_MINT:new i("DezXAZ8z7PnrnRJjz3wXBoRgixCa6xjnB7YaB1pPB263"),STAKE_POOL:new i("9zdpqAgENj4734TQvqjczMg2ekvvuGsxwJC6f7F1QWp4"),oracles:{HXRO_USD_ORACLE:new i("BJqTdFytBhGWpq183a5EPo123cB6gitTAmSSsCta3RGG"),HXRO_PRICE_ORACLE:new i("B47CC1ULLw1jKTSsr1N1198zrUHp3LPduzepJyzgLn2g"),SOL_USD_ORACLE:new i("ALP8SdU9oARYVLgLR7LrqMNCYBnhtnQz1cj6bwgwQmgj"),SOL_PRICE_ORACLE:new i("H6ARHf6YXhGYeQfUzQNGk6rDNnLBQKrenN712K4AQJEG"),BTC_USD_ORACLE:new i("4aDoSXJ5o3AuvL7QFeR6h44jALQfTmUUCTVGDD6aoJTM"),BTC_PRICE_ORACLE:new i("GVXRSBjFk6e6J3NbVPXohDJetcTjaeeuykUpbQF8UoMU"),ETH_USD_ORACLE:new i("EMkxjGC1CQ7JLiutDbfYb7UKb3zm9SJcUmr1YicBsdpZ"),ETH_PRICE_ORACLE:new i("JBu1AL4obBcCMqKBBxhpWCNUt136ijcuMZLFvTP7iWdB")},markets:(mt={},mt[Z.SOLUSD]={MARKET_60S:new i("FN46bryerznhVr6hJUJt6aYCW8wVCDPdQhTNFVvgr8JJ"),MARKET_300S:new i("5m89C7XsQRtuFFARMmKucnYdaNEf9mYXbLxJVGcdyJTU"),MARKET_900S:new i("FnD3PLAbbsJYRufYR9qp8BGgcKmEbSBiC1zkvmj51i3J"),MARKET_3600S:new i("GemLV88r4QsUiVAmc34pwFfaNjaw5BMBmhjqtHVByNra"),MARKET_86400S:new i("GNV2wry1pFCpJeGrhM2e3app99VXTP7rpXUwQGrL1hHi")},mt[Z.BTCUSD]={MARKET_60S:new i("9bqu5kYo3RUBY1kxSQjwpKPYrFzsFxEK7tHrxwLs3XWH"),MARKET_300S:new i("3bH2HWjWNLgGWXbhHhK73fJEDeRQ7spj3fkyRyom6vpx"),MARKET_900S:new i("CsXwpYNwkfrbMdoGWrj97yhuseLRuofy7fxj3Beesxv9"),MARKET_3600S:new i("7c5PqmbTGsrWxCHXAfi9Rt2tTvG1oAdCK13FS8TKEpZ7"),MARKET_86400S:new i("DpMZ7BGRYLF6xi6uD7ecaEjMv5aKx8gShzjhU4pscuqY")},mt[Z.ETHUSD]={MARKET_60S:new i("EfFQtUkjv1ehWg9XrskkUL89sJ8ts4vGHavbo8TkQusL"),MARKET_300S:new i("3DzpjP5cPP32Jkacu7MbEHNZYpiFpPozWQcJJaLgUXRH"),MARKET_900S:new i("9xvKy77EQMeDw7z4ikNgXeRc2vWJgdbaLKBMSmEZbjXi"),MARKET_3600S:new i("6fvFpHoXCxsafVuvNaH7Kdzbk66xmYhCyiTz4H1T89Qy"),MARKET_86400S:new i("CYBcN2nM7oCH1BTt87GA4eP2vqLw2rTR1osgtAy7xyAg")},mt)},Yt=zt,Zt=Jt;export{ke as AttachCookieArgs,ht as ConfigEnum,X as CryptoEnum,$ as CurrencyEnum,x as DAY_1,Yt as DEVNET_CONFIG,Qt as DEV_BONK_CONFIG,zt as DEV_CONFIG,Te as DestroyParimutuelArgs,_e as DestroyPositionArgs,We as DestroyPositionEntryArgs,ee as DurationEnum,q as FixedFees,H as GET_MULTIPLE_ACCOUNTS_LIMIT,O as HONEYPOT_SEED,G as HR_1,z as LinearFees,Zt as MAINNET_CONFIG,W as MARKET_SEED,C as MARKET_TRADER_ACCOUNT_SEED,U as MIN_1,j as MIN_15,D as MIN_5,ue as Market,de as MarketArgs,J as MarketEnum,Z as MarketPairEnum,re as MarketStatusEnum,Y as MarketTypeEnum,ie as MultiTieredFees,B as NETWORK_FEE_PAYER_SEED,_ as NETWORK_SEED,M as NETWORK_TRADER_ACCOUNT_SEED,oe as Network,he as NetworkArgs,Ae as NetworkTraderFeePayerArgs,pe as NetworkUpdateArgs,T as PARIMUTUEL_SEED,ce as Parimutuel,be as ParimutuelArgs,qt as ParimutuelWeb3,te as PositionSideEnum,F as RESERVE_ACCOUNT_SEED,Xt as STAGING_BONK_CONFIG,Jt as STAGING_CONFIG,I as STORE_SEED,Ee as SettlePositionArgs,se as Store,ve as StoreArgs,L as TRADER_ENTRY_ACCOUNT_SEED,K as TRADER_POSITION_ACCOUNT_SEED,N as TRADER_SEQUENCE_SEED,ae as TraderAccount,ge as TraderAccountsArgs,fe as TraderEntryAccount,le as TraderPositionAccount,ye as TraderPositionAccountArgs,me as TraderSequenceNumber,Pe as TraderSequenceNumberArgs,ne as TwoTieredFees,Se as UpdatePositionArgs,we as UpdatePriceArgs,R as Version,Re as WithdrawFeeArgs,$e as calculateNetOdd,Ze as calculateOdd,V as createAssociatedTokenAccountInstruction,Oe as createAttachCookieInstruction,qe as createDestroyParimutuelInstruction,ze as createDestroyPositionEntryInstruction,Qe as createDestroyPositionInstruction,Ce as createMarketInstruction,Me as createNetworkInstruction,Le as createNetworkTraderFeePayerInstruction,De as createParimutuelInstruction,Ge as createPlacePositionInstruction,xe as createSettlePositionInstruction,je as createStoreInstruction,Ne as createTraderAccountInstruction,Ue as createTraderPositionAccountInstruction,Fe as createTraderSequenceNumberInstruction,He as createTransferFundsInstruction,Ke as createUpdatePriceInstruction,Ve as createWithdrawFeeInstruction,xr as decodeAccount,Vr as decodeFixedFees,qr as decodeLinearFees,Jr as decodeMarket,Hr as decodeMint,zr as decodeMultiTieredFees,Qr as decodeNetwork,Yr as decodeParimutuel,Xr as decodeStore,Zr as decodeTraderAccount,rt as decodeTraderEntryAccount,et as decodeTraderPositionAccount,$r as decodeTraderSequenceNumber,Xe as extendBorsh,kr as findAssociatedTokenAccountPubkey,Or as findEntryAccountPubkey,Wr as findHoneypotPubkey,Tr as findIncentiveSignerPubkey,yr as findMarketProtocolFeeCollectorPubkey,vr as findMarketPubkey,Pr as findMarketSettlementFeeCollectorPubkey,Er as findMarketTraderAccountPubkey,wr as findNetworkProtocolFeeCollectorPubkey,dr as findNetworkPubkey,gr as findNetworkSettlementFeeCollectorPubkey,Sr as findNetworkTraderAccountPubkey,Mr as findNetworkTraderFeePayerPubkey,br as findParimutuelPubkey,pr as findProgramAddress,Rr as findReservePubkey,_r as findStakerStatePubkey,Cr as findStorePubkey,Ar as findTraderFeeStatePubkey,Ir as findTraderPositionAccountPubkey,Br as findTraderSequenceNumberPubkey,jr as formatDate,Ur as formatDuration,Gr as formatHour,Dr as formatTime,Nr as getHistoricalTimes,tr as getMarketPubkeys,or as getMarketStatus,Je as getMintDecimals,Lr as getMultipleAccounts,St as getPlacePositionInstruction,er as getProtocolMint,rr as getSettlementMint,ut as getUnixTs,Fr as getUpcomingTimes,nr as isExpired,ir as isLong,sr as isMarketAccount,ur as isNetworkAccount,ar as isParimutuelAccount,cr as isStoreAccount,lr as isTraderAccount,mr as isTraderPositionAccount,fr as isTraderSequenceNumber,hr as notEmpty,Ie as schema,vt as sendAttachCookieTransaction,bt as sendCreateNetworkTraderFeePayerTransaction,wt as sendCreateParimutuelTransaction,Pt as sendCreateStoreTransaction,gt as sendCreateTraderAccountTransaction,yt as sendCreateTraderPositionAccountTransaction,Wt as sendDepositFeeTransaction,Mt as sendDestroyParimutuelTransaction,Bt as sendDestroyPositionEntryTransaction,Ct as sendDestroyPositionTransaction,At as sendPlacePositionTransaction,Et as sendPlacePositionWithOperatorTransaction,Tt as sendSettlePositionTransaction,pt as sendSignedTransaction,dt as sendTransaction,It as sendTransferTokenTransaction,Ot as sendUpdateNetworkTransaction,kt as sendUpdatePriceTransaction,_t as sendWithdrawFeeTransaction,Ye as shortenAddress,ct as sleep,Be as updateNetworkInstruction};
//# sourceMappingURL=index.modern.js.map
