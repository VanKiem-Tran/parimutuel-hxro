!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@solana/web3.js"),require("@solana/spl-token"),require("borsh"),require("bn.js"),require("bs58"),require("lodash/get"),require("lodash/chunk"),require("moment"),require("lodash/uniqWith"),require("lodash/isEqual")):"function"==typeof define&&define.amd?define(["exports","@solana/web3.js","@solana/spl-token","borsh","bn.js","bs58","lodash/get","lodash/chunk","moment","lodash/uniqWith","lodash/isEqual"],r):r((e||self).parimutuelsdk={},e.web3_js,e.splToken,e.borsh,e.BN,e.bs58,e._get,e._chunk,e.moment,e._uniqWith,e._isEqual)}(this,function(e,r,t,n,i,o,u,s,c,a,l){function f(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var m,d=/*#__PURE__*/f(i),h=/*#__PURE__*/f(o),P=/*#__PURE__*/f(u),b=/*#__PURE__*/f(s),p=/*#__PURE__*/f(c),y=/*#__PURE__*/f(a),v=/*#__PURE__*/f(l),g="parimutuel",k="network",S="market",w="store",E="honeypot",T="network_trader_account",A="network_trader_fee_payer",R="market_trader_account",_="parimutuel_trader_position",K="parimutuel_trader_entry",I="trader_sequence",O="parimutuel_reserve",M=function(e,n,i,o){return new r.TransactionInstruction({keys:[{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:r.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:t.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:r.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:t.ASSOCIATED_TOKEN_PROGRAM_ID,data:Buffer.from([])})};e.Version=void 0,(m=e.Version||(e.Version={}))[m.Uninitialized=0]="Uninitialized",m[m.NetworkV1=1]="NetworkV1",m[m.MarketV1=2]="MarketV1",m[m.StoreV1=3]="StoreV1",m[m.ParimutuelV1=4]="ParimutuelV1",m[m.TraderAccountV1=5]="TraderAccountV1",m[m.ParimutuelTraderPositionAccountV1=6]="ParimutuelTraderPositionAccountV1",m[m.TraderSequenceNumberV1=7]="TraderSequenceNumberV1",m[m.FixedFeesV1=8]="FixedFeesV1",m[m.LinearFeesV1=9]="LinearFeesV1",m[m.ParimutuelTraderEntryV1=10]="ParimutuelTraderEntryV1",m[m.TwoTieredFeesV1=11]="TwoTieredFeesV1",m[m.MultiTieredFeesV1=12]="MultiTieredFeesV1";var W=function(e){this.enum=1,this.version=void 0,this.protocolFeeBps=void 0,this.settlementFeeBps=void 0,this._padding1=0,this._padding2=0,this._padding8=new d.default(0),this._padding16=new d.default(0),this._padding8_0=new d.default(0),this._padding8_1=new d.default(0),this._padding8_2=new d.default(0),this._padding8_3=new d.default(0),this.version=e.version,this.protocolFeeBps=new d.default(e.protocolFeeBps),this.settlementFeeBps=new d.default(e.settlementFeeBps)},N=function(e){this.enum=2,this.version=void 0,this.protocolTokenRequiredForMinFee=void 0,this.minProtocolFeeBps=void 0,this.maxProtocolFeeBps=void 0,this.minSettlementFeeBps=void 0,this.maxSettlementFeeBps=void 0,this._padding1=0,this._padding2=0,this._padding4=0,this._padding8=new d.default(0),this._padding8_0=new d.default(0),this._padding8_1=new d.default(0),this._padding8_2=new d.default(0),this._padding8_3=new d.default(0),this.version=e.version,this.protocolTokenRequiredForMinFee=e.protocolTokenRequiredForMinFee,this.minProtocolFeeBps=e.minProtocolFeeBps,this.maxProtocolFeeBps=e.maxProtocolFeeBps,this.minSettlementFeeBps=e.minSettlementFeeBps,this.maxSettlementFeeBps=e.maxSettlementFeeBps};function B(e,r){return B=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e},B(e,r)}var C,F,L,U,D,G,j,V,x=/*#__PURE__*/function(e){var r,t;function n(r){var t;return(t=e.call(this,r)||this).enum=3,t}return t=e,(r=n).prototype=Object.create(t.prototype),r.prototype.constructor=r,B(r,t),n}(N),z=function(e){this.enum=4,this.version=void 0,this.tiers=void 0,this.stakedAmount=void 0,this.settlementFeeBps=void 0,this._padding1=0,this.version=e.version,this.tiers=e.tiers,this.stakedAmount=e.stakedAmount,this.settlementFeeBps=e.settlementFeeBps},q=function(e){this.version=void 0,this.programId=void 0,this.bumpSeed=void 0,this.authority=void 0,this.protocolToken=void 0,this.settlementToken=void 0,this.protocolProductOracle=void 0,this.protocolPriceOracle=void 0,this.protocolFeeCollector=void 0,this.settlementFeeCollector=void 0,this.fee=void 0,this.version=e.version,this.programId=e.programId,this.bumpSeed=e.bumpSeed,this.authority=e.authority,this.protocolToken=e.protocolToken,this.settlementToken=e.settlementToken,this.protocolProductOracle=e.protocolProductOracle,this.protocolPriceOracle=e.protocolPriceOracle,this.protocolFeeCollector=e.protocolFeeCollector,this.settlementFeeCollector=e.settlementFeeCollector,this.fee=e.fee},H=function(e){this.version=void 0,this.programId=void 0,this.bumpSeed=void 0,this.marketKey=void 0,this.wallet=void 0,this.protocolFeeCollector=void 0,this.settlementFeeCollector=void 0,this.fee=void 0,this.version=e.version,this.programId=e.programId,this.bumpSeed=e.bumpSeed,this.marketKey=e.marketKey,this.wallet=e.wallet,this.protocolFeeCollector=e.protocolFeeCollector,this.settlementFeeCollector=e.settlementFeeCollector,this.fee=e.fee},Y=function(e){this.version=void 0,this.programId=void 0,this.bumpSeed=void 0,this.authority=void 0,this.network=void 0,this.underlyingProductOracle=void 0,this.underlyingPriceOracle=void 0,this.duration=void 0,this.contractSize=void 0,this.protocolFeeCollector=void 0,this.settlementFeeCollector=void 0,this.fee=void 0,this.version=e.version,this.programId=e.programId,this.bumpSeed=e.bumpSeed,this.authority=e.authority,this.network=e.network,this.underlyingProductOracle=e.underlyingProductOracle,this.underlyingPriceOracle=e.underlyingPriceOracle,this.duration=e.duration,this.contractSize=e.contractSize,this.protocolFeeCollector=e.protocolFeeCollector,this.settlementFeeCollector=e.settlementFeeCollector,this.fee=e.fee},Q=function(e){this.version=void 0,this.programId=void 0,this.bumpSeed=void 0,this.strike=void 0,this.index=void 0,this.slot=void 0,this.marketOpen=void 0,this.marketClose=void 0,this.timeWindowStart=void 0,this.marketKey=void 0,this.honeypot=void 0,this.numPositions=void 0,this.numPositionsSettled=void 0,this.numPositionsDestroyed=void 0,this.expired=void 0,this.rewardPerShare=void 0,this.activeLongPositions=void 0,this.activeShortPositions=void 0,this.networkFees=void 0,this.marketFees=void 0,this.creator=void 0,this.version=e.version,this.programId=e.programId,this.bumpSeed=e.bumpSeed,this.strike=e.strike,this.index=e.index,this.slot=e.slot,this.marketOpen=e.marketOpen,this.marketClose=e.marketClose,this.timeWindowStart=e.timeWindowStart,this.marketKey=e.marketKey,this.honeypot=e.honeypot,this.numPositions=e.numPositions,this.numPositionsSettled=e.numPositionsSettled,this.numPositionsDestroyed=e.numPositionsDestroyed,this.expired=e.expired,this.rewardPerShare=e.rewardPerShare,this.activeLongPositions=e.activeLongPositions,this.activeShortPositions=e.activeShortPositions,this.networkFees=e.networkFees,this.marketFees=e.marketFees,this.creator=e.creator},X=function(e){this.version=void 0,this.programId=void 0,this.bumpSeed=void 0,this.traderWallet=void 0,this.aggregationLevelKey=void 0,this.profit=void 0,this.loss=void 0,this.wins=void 0,this.losses=void 0,this.version=e.version,this.programId=e.programId,this.bumpSeed=e.bumpSeed,this.traderWallet=e.traderWallet,this.aggregationLevelKey=e.aggregationLevelKey,this.profit=new d.default(e.profit),this.loss=new d.default(e.loss),this.wins=new d.default(e.wins),this.losses=new d.default(e.losses)},J=function(e){this.version=void 0,this.programId=void 0,this.bumpSeed=void 0,this.sequenceNumber=void 0,this.parimutuel=void 0,this.traderWallet=void 0,this.hasStore=void 0,this.store=void 0,this.longPosition=void 0,this.shortPosition=void 0,this.numEntries=void 0,this.paid=void 0,this.payout=void 0,this.version=e.version,this.programId=e.programId,this.bumpSeed=e.bumpSeed,this.sequenceNumber=e.sequenceNumber,this.parimutuel=e.parimutuel,this.traderWallet=e.traderWallet,this.hasStore=e.hasStore,this.store=e.store,this.longPosition=e.longPosition,this.shortPosition=e.shortPosition,this.numEntries=e.numEntries,this.paid=e.paid,this.payout=e.payout},Z=function(e){this.version=void 0,this.programId=void 0,this.bumpSeed=void 0,this.traderPosition=void 0,this.sequenceNumber=void 0,this.traderWallet=void 0,this.direction=void 0,this.amount=void 0,this.timestamp=void 0,this.version=e.version,this.programId=e.programId,this.bumpSeed=e.bumpSeed,this.traderPosition=e.traderPosition,this.sequenceNumber=e.sequenceNumber,this.traderWallet=e.traderWallet,this.direction=e.direction,this.amount=e.amount,this.timestamp=e.timestamp},$=function(e){this.version=void 0,this.programId=void 0,this.bumpSeed=void 0,this.parimutuel=void 0,this.traderKey=void 0,this.sequenceNumber=void 0,this.version=e.version,this.programId=e.programId,this.bumpSeed=e.bumpSeed,this.parimutuel=e.parimutuel,this.traderKey=e.traderKey,this.sequenceNumber=e.sequenceNumber},ee=function(e){this.instruction=0,this.fees=void 0,this.fees=e.fees},re=function(e){this.instruction=14,this.fees=void 0,this.fees=e.fees},te=function(e){this.instruction=1,this.duration=void 0,this.contractSize=void 0,this.fees=void 0,this.duration=new d.default(e.duration),this.contractSize=new d.default(e.contractSize),this.fees=e.fees},ne=function(e){this.instruction=2,this.fees=void 0,this.fees=e.fees},ie=function(e){this.instruction=3,this.marketOpen=void 0,this.marketClose=void 0,this.timeWindowStart=void 0,this.marketOpen=new d.default(e.marketOpen),this.marketClose=new d.default(e.marketClose),this.timeWindowStart=new d.default(e.timeWindowStart)},oe=function(){this.instruction=4},ue=function(){this.instruction=5},se=function(){this.instruction=6},ce=function(){this.instruction=7},ae=function(){this.instruction=8},le=function(e){this.instruction=9,this.size=void 0,this.side=void 0,this.seq=void 0,this.size=new d.default(e.size),this.side=e.side,this.seq=new d.default(e.seq)},fe=function(){this.instruction=10},me=function(){this.instruction=11},de=function(e){this.instruction=12,this.amount=void 0,this.amount=new d.default(e.amount)},he=function(){this.instruction=15},Pe=function(){this.instruction=18},be=function(){this.instruction=17},pe=new Map([[ee,{kind:"struct",fields:[["instruction","u8"],["fees",x]]}],[re,{kind:"struct",fields:[["instruction","u8"],["fees",x]]}],[te,{kind:"struct",fields:[["instruction","u8"],["duration","u64"],["contractSize","u64"],["fees",W]]}],[ne,{kind:"struct",fields:[["instruction","u8"],["fees",W]]}],[ie,{kind:"struct",fields:[["instruction","u8"],["marketOpen","u64"],["marketClose","u64"],["timeWindowStart","u64"]]}],[oe,{kind:"struct",fields:[["instruction","u8"]]}],[ue,{kind:"struct",fields:[["instruction","u8"]]}],[ce,{kind:"struct",fields:[["instruction","u8"]]}],[se,{kind:"struct",fields:[["instruction","u8"]]}],[ae,{kind:"struct",fields:[["instruction","u8"]]}],[le,{kind:"struct",fields:[["instruction","u8"],["size","u64"],["side","u8"],["seq","u64"]]}],[fe,{kind:"struct",fields:[["instruction","u8"]]}],[me,{kind:"struct",fields:[["instruction","u8"]]}],[de,{kind:"struct",fields:[["instruction","u8"],["amount","u64"]]}],[he,{kind:"struct",fields:[["instruction","u8"]]}],[Pe,{kind:"struct",fields:[["instruction","u8"]]}],[be,{kind:"struct",fields:[["instruction","u8"]]}],[N,{kind:"struct",fields:[["enum","u8"],["version","u8"],["protocolTokenRequiredForMinFee","u64"],["minProtocolFeeBps","u16"],["maxProtocolFeeBps","u16"],["minSettlementFeeBps","u16"],["maxSettlementFeeBps","u16"],["_padding1","u8"],["_padding2","u16"],["_padding4","u32"],["_padding8","u64"],["_padding8_0","u64"],["_padding8_1","u64"],["_padding8_2","u64"],["_padding8_3","u64"]]}],[x,{kind:"struct",fields:[["enum","u8"],["version","u8"],["protocolTokenRequiredForMinFee","u64"],["minProtocolFeeBps","u16"],["maxProtocolFeeBps","u16"],["minSettlementFeeBps","u16"],["maxSettlementFeeBps","u16"],["_padding1","u8"],["_padding2","u16"],["_padding4","u32"],["_padding8","u64"],["_padding8_0","u64"],["_padding8_1","u64"],["_padding8_2","u64"],["_padding8_3","u64"]]}],[W,{kind:"struct",fields:[["enum","u8"],["version","u8"],["protocolFeeBps","u16"],["settlementFeeBps","u16"],["_padding1","u8"],["_padding2","u16"],["_padding8","u64"],["_padding16","u128"],["_padding8_0","u64"],["_padding8_1","u64"],["_padding8_2","u64"],["_padding8_3","u64"]]}],[z,{kind:"struct",fields:[["enum","u8"],["version","u8"],["tiers","u8"],["stakedAmount","multiTieredFeesStakedAmount"],["settlementFeeBps","multiTieredFeesSettlementFeeBps"],["_padding1","u16"]]}],[q,{kind:"struct",fields:[["version","u8"],["programId","pubkeyAsString"],["bumpSeed","u8"],["authority","pubkeyAsString"],["protocolToken","pubkeyAsString"],["settlementToken","pubkeyAsString"],["protocolProductOracle","pubkeyAsString"],["protocolPriceOracle","pubkeyAsString"],["protocolFeeCollector","pubkeyAsString"],["settlementFeeCollector","pubkeyAsString"],["fee",N]]}],[Y,{kind:"struct",fields:[["version","u8"],["programId","pubkeyAsString"],["bumpSeed","u8"],["authority","pubkeyAsString"],["network","pubkeyAsString"],["underlyingProductOracle","pubkeyAsString"],["underlyingPriceOracle","pubkeyAsString"],["duration","u64"],["contractSize","u64"],["protocolFeeCollector","pubkeyAsString"],["settlementFeeCollector","pubkeyAsString"],["fee",W]]}],[H,{kind:"struct",fields:[["version","u8"],["programId","pubkeyAsString"],["bumpSeed","u8"],["marketKey","pubkeyAsString"],["wallet","pubkeyAsString"],["protocolFeeCollector","pubkeyAsString"],["settlementFeeCollector","pubkeyAsString"],["fee",N]]}],[Q,{kind:"struct",fields:[["version","u8"],["programId","pubkeyAsString"],["bumpSeed","u8"],["strike","u64"],["index","u64"],["slot","u64"],["marketOpen","u64"],["marketClose","u64"],["timeWindowStart","u64"],["marketKey","pubkeyAsString"],["honeypot","pubkeyAsString"],["numPositions","u64"],["numPositionsSettled","u64"],["numPositionsDestroyed","u64"],["expired","u8"],["rewardPerShare","u64"],["activeLongPositions","u64"],["activeShortPositions","u64"],["networkFees",x],["marketFees",W],["creator","pubkeyAsString"]]}],[X,{kind:"struct",fields:[["version","u8"],["programId","pubkeyAsString"],["bumpSeed","u8"],["traderWallet","pubkeyAsString"],["aggregationLevelKey","pubkeyAsString"],["profit","u64"],["loss","u64"],["wins","u64"],["losses","u64"]]}],[$,{kind:"struct",fields:[["version","u8"],["programId","pubkeyAsString"],["bumpSeed","u8"],["parimutuel","pubkeyAsString"],["traderWallet","pubkeyAsString"],["sequenceNumber","u64"]]}],[J,{kind:"struct",fields:[["version","u8"],["programId","pubkeyAsString"],["bumpSeed","u8"],["sequenceNumber","u64"],["parimutuel","pubkeyAsString"],["traderWallet","pubkeyAsString"],["hasStore","u8"],["store","pubkeyAsString"],["longPosition","u64"],["shortPosition","u64"],["numEntries","u64"],["paid","u8"],["payout","u64"]]}],[Z,{kind:"struct",fields:[["version","u8"],["programId","pubkeyAsString"],["bumpSeed","u8"],["traderPosition","pubkeyAsString"],["sequenceNumber","u64"],["traderWallet","pubkeyAsString"],["direction","u8"],["amount","u64"],["timestamp","u64"]]}]]),ye=function(e,t,i,o,u,s,c,a){try{var l=Buffer.from(n.serialize(pe,t));return Promise.resolve(new r.TransactionInstruction({keys:[{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!0,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0}],programId:e,data:l}))}catch(e){return Promise.reject(e)}},ve=function(e,t,i,o,u,s,c,a,l,f){try{return Promise.resolve(new r.TransactionInstruction({keys:[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:r.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:r.SystemProgram.programId,isSigner:!1,isWritable:!1}],programId:e,data:Buffer.from(n.serialize(pe,t))}))}catch(e){return Promise.reject(e)}},ge=function(e,i,o,u,s,c,a,l,f,m,d){try{var h=Buffer.from(n.serialize(pe,i));return Promise.resolve(new r.TransactionInstruction({keys:[{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:t.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:r.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}],programId:e,data:h}))}catch(e){return Promise.reject(e)}},ke=function(e,i,o,u,s,c,a){try{var l=Buffer.from(n.serialize(pe,i));return Promise.resolve(new r.TransactionInstruction({keys:[{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!0,isWritable:!1},{pubkey:t.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:r.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:r.SystemProgram.programId,isSigner:!1,isWritable:!1}],programId:e,data:l}))}catch(e){return Promise.reject(e)}},Se=function(e,t,i,o,u,s,c,a,l,f,m,d){try{var h=Buffer.from(n.serialize(pe,t));return Promise.resolve(new r.TransactionInstruction({keys:[{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!0,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!0,isWritable:!1},{pubkey:r.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:r.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:d,isSigner:!1,isWritable:!1}],programId:e,data:h}))}catch(e){return Promise.reject(e)}},we=function(e,t,i,o,u,s,c){try{var a=Buffer.from(n.serialize(pe,t));return Promise.resolve(new r.TransactionInstruction({keys:[{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!0,isWritable:!1},{pubkey:r.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:r.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:r.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}],programId:e,data:a}))}catch(e){return Promise.reject(e)}},Ee=function(e,i,o,u,s,c,a,l,f,m){try{var d=Buffer.from(n.serialize(pe,i));return Promise.resolve(new r.TransactionInstruction({keys:[{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:t.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:r.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:r.SystemProgram.programId,isSigner:!1,isWritable:!1}],programId:e,data:d}))}catch(e){return Promise.reject(e)}},Te=function(e,t,i,o,u,s,c,a,l){try{var f=Buffer.from(n.serialize(pe,t));return Promise.resolve(new r.TransactionInstruction({keys:[{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:r.SystemProgram.programId,isSigner:!1,isWritable:!1}],programId:e,data:f}))}catch(e){return Promise.reject(e)}},Ae=function(e,i,o,u,s,c,a,l,f,m){try{var d=Buffer.from(n.serialize(pe,i));return Promise.resolve(new r.TransactionInstruction({keys:[{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:t.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:r.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:r.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:r.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}],programId:e,data:d}))}catch(e){return Promise.reject(e)}},Re=function(e,i,o,u,s,c,a,l,f,m,d,h,P,b,p,y,v,g,k,S,w,E,T,A,R){try{var _=Buffer.from(n.serialize(pe,i));return Promise.resolve(new r.TransactionInstruction({keys:[{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:k,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:P,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:S,isSigner:!1,isWritable:!1},{pubkey:w,isSigner:!1,isWritable:!1},{pubkey:E,isSigner:!1,isWritable:!1},{pubkey:T,isSigner:!1,isWritable:!1},{pubkey:A,isSigner:!1,isWritable:!1},{pubkey:R,isSigner:!1,isWritable:!1},{pubkey:t.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:r.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:r.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:r.SystemProgram.programId,isSigner:!1,isWritable:!1}],programId:e,data:_}))}catch(e){return Promise.reject(e)}},_e=function(e,i,o,u,s,c,a,l){try{var f=Buffer.from(n.serialize(pe,i));return Promise.resolve(new r.TransactionInstruction({keys:[{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:t.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:r.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:r.SystemProgram.programId,isSigner:!1,isWritable:!1}],programId:e,data:f}))}catch(e){return Promise.reject(e)}},Ke=function(e,i,o,u,s,c,a,l,f,m,d){try{var h=Buffer.from(n.serialize(pe,i));return Promise.resolve(new r.TransactionInstruction({keys:[{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:t.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:d,isSigner:!1,isWritable:!0}],programId:e,data:h}))}catch(e){return Promise.reject(e)}},Ie=function(e,t,i,o,u,s,c,a){try{var l=Buffer.from(n.serialize(pe,t));return Promise.resolve(new r.TransactionInstruction({keys:[{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0}],programId:e,data:l}))}catch(e){return Promise.reject(e)}},Oe=function(e,t,i,o,u,s,c){try{var a=Buffer.from(n.serialize(pe,t));return Promise.resolve(new r.TransactionInstruction({keys:[{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0}],programId:e,data:a}))}catch(e){return Promise.reject(e)}},Me=function(){n.BinaryReader.prototype.readPubkey=function(){var e=this.readFixedArray(32);return new r.PublicKey(e)},n.BinaryWriter.prototype.writePubkey=function(e){this.writeFixedArray(e.toBuffer())},n.BinaryReader.prototype.readPubkeyAsString=function(){var e=this.readFixedArray(32);return h.default.encode(e)},n.BinaryWriter.prototype.writePubkeyAsString=function(e){this.writeFixedArray(h.default.decode(e))},n.BinaryReader.prototype.readMultiTieredFeesStakedAmount=function(){for(var e=new Array(10),r=0;r<10;r++)e[r]=this.readU32();return e},n.BinaryWriter.prototype.writeMultiTieredFeesStakedAmount=function(e){for(var r=0;r<10;r++)this.writeU32(e[r])},n.BinaryReader.prototype.readMultiTieredFeesSettlementFeeBps=function(){for(var e=new Array(10),r=0;r<10;r++)e[r]=this.readU16();return e},n.BinaryWriter.prototype.writeMultiTieredFeesSettlementFeeBps=function(e){for(var r=0;r<10;r++)this.writeU16(e[r])}};e.CryptoEnum=void 0,(C=e.CryptoEnum||(e.CryptoEnum={})).SOLANA="solana",C.USDC="usdc",C.HXRO="hxro",e.MarketEnum=void 0,(F=e.MarketEnum||(e.MarketEnum={})).PARIMUTUEL="parimutuel",F.OPTIONS="options",e.MarketTypeEnum=void 0,(L=e.MarketTypeEnum||(e.MarketTypeEnum={})).CRYPTO="crypto",L.FINANCIAL="financial",L.SPORTS="sports",e.MarketPairEnum=void 0,(U=e.MarketPairEnum||(e.MarketPairEnum={})).BTCUSD="BTCUSD",U.SOLUSD="SOLUSD",U.ETHUSD="ETHUSD",U.HXROUSD="HXROUSD",e.CurrencyEnum=void 0,(D=e.CurrencyEnum||(e.CurrencyEnum={})).USDC="USDC",D.HXRO="HXRO",e.DurationEnum=void 0,(G=e.DurationEnum||(e.DurationEnum={})).ONE_MIN="1min",G.FIVE_MIN="5min",G.FIFTEEN_MIN="15min",G.ONE_HOUR="1hour",G.ONE_DAY="1day",e.MarketStatusEnum=void 0,(j=e.MarketStatusEnum||(e.MarketStatusEnum={})).UPCOMING="upcoming",j.LIVE="live",j.SETTLED="settled",e.PositionSideEnum=void 0,(V=e.PositionSideEnum||(e.PositionSideEnum={}))[V.SHORT=1]="SHORT",V[V.LONG=0]="LONG";var We=function(e,r){var t=[];return P.default(e.markets,[r,"MARKET_60S"])&&t.push({pubkey:P.default(e.markets,[r,"MARKET_60S"]),duration:60}),P.default(e.markets,[r,"MARKET_300S"])&&t.push({pubkey:P.default(e.markets,[r,"MARKET_300S"]),duration:300}),P.default(e.markets,[r,"MARKET_900S"])&&t.push({pubkey:P.default(e.markets,[r,"MARKET_900S"]),duration:900}),P.default(e.markets,[r,"MARKET_3600S"])&&t.push({pubkey:P.default(e.markets,[r,"MARKET_3600S"]),duration:3600}),P.default(e.markets,[r,"MARKET_86400S"])&&t.push({pubkey:P.default(e.markets,[r,"MARKET_86400S"]),duration:86400}),t},Ne=function(e){return!!e},Be=function(e,t){try{var n="pda-"+e.reduce(function(e,r){return e+r.toString("hex")},"")+t.toString();if("undefined"!=typeof window){var i,o=null==(i=localStorage)?void 0:i.getItem(n);if(o){var u=JSON.parse(o);return Promise.resolve([u.key,parseInt(u.nonce)])}}return Promise.resolve(r.PublicKey.findProgramAddress(e,t)).then(function(e){var r;return"undefined"!=typeof window&&(null==(r=localStorage)||r.setItem(n,JSON.stringify({key:e[0].toBase58(),nonce:e[1]}))),[e[0].toBase58(),e[1]]})}catch(e){return Promise.reject(e)}},Ce=function(e,t,n,i,o){try{return Promise.resolve(Be([Buffer.from(g),t.toBuffer(),new Uint8Array(new d.default(n).toArray("le",8)),new Uint8Array(new d.default(o).toArray("le",8)),new Uint8Array(new d.default(i).toArray("le",8))],e)).then(function(e){return new r.PublicKey(e[0])})}catch(e){return Promise.reject(e)}},Fe=function(e,n){try{return Promise.resolve(Be([e.toBuffer(),t.TOKEN_PROGRAM_ID.toBuffer(),n.toBuffer()],t.ASSOCIATED_TOKEN_PROGRAM_ID)).then(function(e){return new r.PublicKey(e[0])})}catch(e){return Promise.reject(e)}},Le=function(e,n){try{return Promise.resolve(Be([e.toBuffer(),t.TOKEN_PROGRAM_ID.toBuffer(),n.toBuffer()],t.ASSOCIATED_TOKEN_PROGRAM_ID)).then(function(e){return new r.PublicKey(e[0])})}catch(e){return Promise.reject(e)}},Ue=function(e,n){try{return Promise.resolve(Be([e.toBuffer(),t.TOKEN_PROGRAM_ID.toBuffer(),n.toBuffer()],t.ASSOCIATED_TOKEN_PROGRAM_ID)).then(function(e){return new r.PublicKey(e[0])})}catch(e){return Promise.reject(e)}},De=function(e,n){try{return Promise.resolve(Be([e.toBuffer(),t.TOKEN_PROGRAM_ID.toBuffer(),n.toBuffer()],t.ASSOCIATED_TOKEN_PROGRAM_ID)).then(function(e){return new r.PublicKey(e[0])})}catch(e){return Promise.reject(e)}},Ge=function(e,n){try{return Promise.resolve(Be([e.toBuffer(),t.TOKEN_PROGRAM_ID.toBuffer(),n.toBuffer()],t.ASSOCIATED_TOKEN_PROGRAM_ID)).then(function(e){return new r.PublicKey(e[0])})}catch(e){return Promise.reject(e)}},je=function(e,t,n){try{return Promise.resolve(Be([Buffer.from(T),n.toBuffer(),t.toBuffer()],e)).then(function(e){return new r.PublicKey(e[0])})}catch(e){return Promise.reject(e)}},Ve=function(e,t,n){try{return Promise.resolve(Be([Buffer.from(R),n.toBuffer(),t.toBuffer()],e)).then(function(e){return new r.PublicKey(e[0])})}catch(e){return Promise.reject(e)}},xe=function(e,t,n,i){try{return Promise.resolve(Be([n.toBuffer(),t.toBuffer(),i.toBuffer()],e)).then(function(e){return new r.PublicKey(e[0])})}catch(e){return Promise.reject(e)}},ze=function(e,t){try{return Promise.resolve(Be([Buffer.from(O),t.toBuffer()],e)).then(function(e){return new r.PublicKey(e[0])})}catch(e){return Promise.reject(e)}},qe=function(e,t){try{return Promise.resolve(Be([t.toBuffer()],e)).then(function(e){return new r.PublicKey(e[0])})}catch(e){return Promise.reject(e)}},He=function(e,t,n){try{return Promise.resolve(Be([t.toBuffer(),n.toBuffer()],e)).then(function(e){return new r.PublicKey(e[0])})}catch(e){return Promise.reject(e)}},Ye=function(e,t){try{return Promise.resolve(Be([Buffer.from(E),t.toBuffer()],e)).then(function(e){return new r.PublicKey(e[0])})}catch(e){return Promise.reject(e)}},Qe=function(e,t,n){try{return Promise.resolve(Be([Buffer.from(_),n.toBuffer(),t.toBuffer()],e)).then(function(e){return new r.PublicKey(e[0])})}catch(e){return Promise.reject(e)}},Xe=function(e,t,n){try{return Promise.resolve(Be([Buffer.from(K),t.toBuffer(),new Uint8Array(new d.default(n).toArray("le",8))],e)).then(function(e){return new r.PublicKey(e[0])})}catch(e){return Promise.reject(e)}},Je=function(e,t){try{return Promise.resolve(Be([Buffer.from(A),t.toBuffer()],e)).then(function(e){return new r.PublicKey(e[0])})}catch(e){return Promise.reject(e)}},Ze=function(e,t,n){try{return Promise.resolve(Be([Buffer.from(w),t.toBuffer(),n.toBuffer()],e)).then(function(e){return new r.PublicKey(e[0])})}catch(e){return Promise.reject(e)}},$e=function(e,t){try{var n=[t.map(function(e){return e.toBase58()}),{commitment:"recent"}];return Promise.resolve(e._rpcRequest("getMultipleAccounts",n)).then(function(e){if(e.error)throw new Error("failed to get info about accounts "+t.map(function(e){return e.toBase58()}).join(", ")+": "+e.error.message);return e.result?e.result.value.map(function(e){if(!e)return null;var t=e.lamports,n=e.data;return{executable:e.executable,owner:new r.PublicKey(e.owner),lamports:t,data:Buffer.from(n[0],"base64")}}).map(function(e,r){return null===e?null:{pubkey:t[r],account:e}}):[]})}catch(e){return Promise.reject(e)}},er=function(e,r){try{if(r.length<=99)return Promise.resolve($e(e,r));var t=b.default(r,99);return Promise.resolve(Promise.all(t.map(function(r){return $e(e,r)}))).then(function(e){return e.flat()})}catch(e){return Promise.reject(e)}},rr=function(e,r,t){var n=(new Date).getTime(),i=n-n%r;return Array.from(Array(t).keys()).map(function(t){return{marketPubkey:e,startTime:i-t*r,duration:r}}).reverse()},tr=function(e,r,t){var n=(new Date).getTime(),i=n-n%r;return Array.from(Array(t).keys()).map(function(t){return{marketPubkey:e,startTime:i+t*r,duration:r}}).reverse()};Me();var nr=function(e){var n=t.AccountLayout.decode(e);return n.mint=new r.PublicKey(n.mint),n.owner=new r.PublicKey(n.owner),n.amount=t.u64.fromBuffer(n.amount),0===n.delegateOption?(n.delegate=null,n.delegatedAmount=new t.u64(0)):(n.delegate=new r.PublicKey(n.delegate),n.delegatedAmount=t.u64.fromBuffer(n.delegatedAmount)),n.isInitialized=0!==n.state,n.isFrozen=2===n.state,1===n.isNativeOption?(n.rentExemptReserve=t.u64.fromBuffer(n.isNative),n.isNative=!0):(n.rentExemptReserve=null,n.isNative=!1),n.closeAuthority=0===n.closeAuthorityOption?null:new r.PublicKey(n.closeAuthority),n},ir=function(e){return n.deserializeUnchecked(pe,W,e)},or=function(e){return n.deserializeUnchecked(pe,N,e)},ur=function(e){return n.deserializeUnchecked(pe,q,e)},sr=function(e){return n.deserializeUnchecked(pe,H,e)},cr=function(e){return n.deserializeUnchecked(pe,Y,e)},ar=function(e){return n.deserializeUnchecked(pe,Q,e)},lr=function(e){return n.deserializeUnchecked(pe,X,e)},fr=function(e){return n.deserializeUnchecked(pe,J,e)},mr=function(e){return n.deserializeUnchecked(pe,Z,e)};function dr(e,r,t){if(!e.s){if(t instanceof hr){if(!t.s)return void(t.o=dr.bind(null,e,r));1&r&&(r=t.s),t=t.v}if(t&&t.then)return void t.then(dr.bind(null,e,r),dr.bind(null,e,2));e.s=r,e.v=t;var n=e.o;n&&n(e)}}var hr=/*#__PURE__*/function(){function e(){}return e.prototype.then=function(r,t){var n=new e,i=this.s;if(i){var o=1&i?r:t;if(o){try{dr(n,1,o(this.v))}catch(e){dr(n,2,e)}return n}return this}return this.o=function(e){try{var i=e.v;1&e.s?dr(n,1,r?r(i):i):t?dr(n,1,t(i)):dr(n,2,i)}catch(e){dr(n,2,e)}},n},e}();function Pr(e){return e instanceof hr&&1&e.s}function br(e,r,t){for(var n;;){var i=e();if(Pr(i)&&(i=i.v),!i)return o;if(i.then){n=0;break}var o=t();if(o&&o.then){if(!Pr(o)){n=1;break}o=o.s}if(r){var u=r();if(u&&u.then&&!Pr(u)){n=2;break}}}var s=new hr,c=dr.bind(null,s,2);return(0===n?i.then(l):1===n?o.then(a):u.then(f)).then(void 0,c),s;function a(n){o=n;do{if(r&&(u=r())&&u.then&&!Pr(u))return void u.then(f).then(void 0,c);if(!(i=e())||Pr(i)&&!i.v)return void dr(s,1,o);if(i.then)return void i.then(l).then(void 0,c);Pr(o=t())&&(o=o.v)}while(!o||!o.then);o.then(a).then(void 0,c)}function l(e){e?(o=t())&&o.then?o.then(a).then(void 0,c):a(o):dr(s,1,o)}function f(){(i=e())?i.then?i.then(l).then(void 0,c):l(i):dr(s,1,o)}}function pr(e,r){try{var t=e()}catch(e){return r(e)}return t&&t.then?t.then(void 0,r):t}var yr=function(){return(new Date).getTime()/1e3};function vr(e){return new Promise(function(r){return setTimeout(r,e)})}var gr,kr,Sr,wr,Er,Tr=function(e){var r=e.connection,t=e.signedTransaction,n=e.retry,i=void 0===n||n,o=e.timeout,u=void 0===o?15e3:o,s=e.confirmation,c=void 0===s||s;try{var a=t.serialize(),l=yr(),f=0;return Promise.resolve(r.sendRawTransaction(a,{skipPreflight:!0})).then(function(e){function n(r){return{transactionId:e,slot:f}}var o=!1;i?function(){try{var e=br(function(){return!o&&yr()-l<u},void 0,function(){return r.sendRawTransaction(a,{skipPreflight:!0}).catch(function(e){return console.error(e)}),Promise.resolve(vr(500)).then(function(){})});e&&e.then&&e.then(function(){})}catch(e){Promise.reject(e)}}():r.sendRawTransaction(a,{skipPreflight:!0}).catch(function(e){return console.error(e)});var s=function(){if(c){var n=function(r){console.log("Latency",e,yr()-l)},i=function(n,i){try{var o=pr(function(){return console.log("Started awaiting confirmation for",e),Promise.resolve(function(e,r,t){try{var n=!1,i={slot:0,confirmations:0,err:null},o=0;return Promise.resolve(new Promise(function(u,s){try{setTimeout(function(){n||(n=!0,console.log("Timed out for txid",e),s({timeout:!0}))},r);try{o=t.onSignature(e,function(e,r){n=!0,i={err:e.err,slot:r.slot,confirmations:0},e.err?(console.log("Rejected via websocket",e.err),s(i)):(console.log("Resolved via websocket",e),u(i))},"recent")}catch(r){n=!0,console.error("WS error in setup",e,r)}var c=br(function(){return!n},void 0,function(){return function(){try{var r=pr(function(){return Promise.resolve(t.getSignatureStatuses([e])).then(function(r){i=r&&r.value[0],console.log("https://explorer.solana.com/tx/"+e+"?cluster=devnet"),n||(i?i.err?(console.log("REST error for",e,i),n=!0,s(i.err)):i.confirmations?(console.log("REST confirmation for",e,i),n=!0,u(i)):console.log("REST no confirmations for",e,i):console.log("REST null result for",e,i))})},function(r){n||console.log("REST connection error: transactionId",e,r)});r&&r.then&&r.then(function(){})}catch(e){Promise.reject(e)}}(),Promise.resolve(vr(2e3)).then(function(){})});return Promise.resolve(c&&c.then?c.then(function(){}):void 0)}catch(e){return Promise.reject(e)}})).then(function(e){var r;return i=e,null!=(r=t._signatureSubscriptions)&&r[o]&&t.removeSignatureListener(o),n=!0,console.log("Returning status",i),i})}catch(e){return Promise.reject(e)}}(e,u,r)).then(function(e){if(!e)throw new Error("Timed out awaiting confirmation on transaction");if(e.err)throw console.error(e.err),new Error("Transaction failed: Custom instruction error");f=(null==e?void 0:e.slot)||0})},function(e){function n(){if(i&&i.err){if(i.logs)for(var e=i.logs.length-1;e>=0;--e){var r=i.logs[e];if(r.startsWith("Program log: "))throw new Error("Transaction failed: "+r.slice("Program log: ".length))}throw new Error(JSON.stringify(i.err))}throw new Error("Transaction failed")}if(console.error("Timeout Error caught",e),e.timeout)throw new Error("Timed out awaiting confirmation on transaction");var i=null,o=pr(function(){return Promise.resolve(function(e,r,t){try{return Promise.resolve(e.getRecentBlockhash()).then(function(t){r.recentBlockhash=t.blockhash;var n=r.serializeMessage(),i=r._serialize(n).toString("base64");return Promise.resolve(e._rpcRequest("simulateTransaction",[i,{encoding:"base64",commitment:"single"}])).then(function(e){if(e.error)throw new Error("failed to simulate transaction: "+e.error.message);return e.result})})}catch(e){return Promise.reject(e)}}(r,t)).then(function(e){i=e.value})},function(e){console.error("simulate error",e)});return o&&o.then?o.then(n):n()})}catch(e){return i(!0,e)}return o&&o.then?o.then(i.bind(null,!1),i.bind(null,!0)):i(!1,o)}(0,function(e,r){if(o=!0,e)throw r;return r});return i&&i.then?i.then(n):n()}}();return s&&s.then?s.then(n):n()})}catch(e){return Promise.reject(e)}},Ar=function(e,t,n,i,o,u,s,c,a,l){void 0===o&&(o="singleGossip"),void 0===u&&(u=!1),void 0===s&&(s=!0),void 0===c&&(c=!0);try{var f=function(r){function n(){return l&&l(),pr(function(){return Promise.resolve(Tr({connection:e,signedTransaction:m,retry:s,confirmation:c})).then(function(e){return{transactionId:e.transactionId,slot:e.slot}})},function(e){console.error(e)})}var o,a,f;m.recentBlockhash=r.blockhash,u?(o=m).setSigners.apply(o,i.map(function(e){return e.publicKey})):(a=m).setSigners.apply(a,[t.publicKey].concat(i.map(function(e){return e.publicKey}))),i.length>0&&(f=m).partialSign.apply(f,i);var d=function(){if(!u)return Promise.resolve(t.signTransaction(m)).then(function(e){m=e})}();return d&&d.then?d.then(n):n()};if(!t.publicKey)throw new Error("wallet is not connected");var m=new r.Transaction;return n.forEach(function(e){return m.add(e)}),Promise.resolve(a?f(a):Promise.resolve(e.getRecentBlockhash(o)).then(f))}catch(e){return Promise.reject(e)}},Rr=function(e,t,n){try{var i=this;if(!e.publicKey)throw new Error("user wallet not connected");var o=[],u=i.config,s=u.PARIMUTUEL_PROGRAM_ID,c=u.NETWORK,a=e.publicKey;null!=e&&e.hasOwnProperty("_keypair")&&o.push(e);var l=c;return Promise.resolve(i.connection.getAccountInfo(n)).then(function(u){if(!u)throw new Error("no parimutuel account");var c=ar(Buffer.from(u.data)),f=new r.PublicKey(c.marketKey);return Promise.resolve(Qe(s,a,n)).then(function(r){return Promise.resolve(ye(s,new ae,l,f,a,n,t,r)).then(function(r){return Promise.resolve(Ar(i.connection,e,[r],o,"single",o.length>0)).then(function(e){if(e)return e.transactionId;throw new Error("failed to attach cookie")})})})})}catch(e){return Promise.reject(e)}},_r=function(e,t,n,i,o){try{var u=this;if(!e.publicKey)throw new Error("user wallet not connected");var s=[],c=u.config,a=c.PARIMUTUEL_PROGRAM_ID,l=c.NETWORK,f=e.publicKey;null!=e&&e.hasOwnProperty("_keypair")&&s.push(e);var m=new ie({marketOpen:n,marketClose:o,timeWindowStart:i}),d=l;return Promise.resolve(u.connection.getMultipleAccountsInfo([d,t])).then(function(c){var l=c[0],h=c[1];if(!l||!h)throw new Error("no network or market account");var P=ur(Buffer.from(l.data)),b=cr(Buffer.from(h.data)),p=new r.PublicKey(P.settlementToken),y=new r.PublicKey(b.underlyingProductOracle),v=new r.PublicKey(b.underlyingPriceOracle);return Promise.resolve(Ce(a,t,n,i,o)).then(function(r){return Promise.resolve(Ye(a,r)).then(function(n){return Promise.resolve(Ee(a,m,d,t,f,p,y,v,n,r)).then(function(t){return Promise.resolve(Ar(u.connection,e,[t],s,"max",s.length>0,!1,!1)).then(function(e){if(e)return e.transactionId;throw new Error("failed to create parimutuel: "+r.toBase58())})})})})})}catch(e){return Promise.reject(e)}},Kr=function(t,n,i,o,u){try{var s=this;if(!t.publicKey)throw new Error("user wallet not connected");var c=[],a=[],l=s.config,f=l.PARIMUTUEL_PROGRAM_ID,m=l.NETWORK,d=t.publicKey;null!=t&&t.hasOwnProperty("_keypair")&&a.push(t);var h=new ne({fees:new W({version:e.Version.FixedFeesV1,protocolFeeBps:o,settlementFeeBps:u})}),P=m;return Promise.resolve(s.connection.getAccountInfo(P)).then(function(e){if(!e)throw new Error("no network account");var o=ur(Buffer.from(e.data)),u=new r.PublicKey(o.protocolToken),l=new r.PublicKey(o.settlementToken);return Promise.resolve(Ze(f,i,n)).then(function(e){return Promise.resolve(Ge(n,u)).then(function(r){return Promise.resolve(Ge(n,l)).then(function(o){return Promise.resolve(s.connection.getMultipleAccountsInfo([r,o])).then(function(m){var b=m[1];if(!m[0]){var p=M(r,n,n,u);c.push(p)}if(!b){var y=M(o,n,n,l);c.push(y)}return Promise.resolve(Te(f,h,P,i,n,d,e,r,o)).then(function(e){return Promise.resolve(Ar(s.connection,t,[].concat(c,[e]),a,"max",a.length>0)).then(function(e){if(e)return e.transactionId;throw new Error("failed to create store")})})})})})})})}catch(e){return Promise.reject(e)}},Ir=function(e,t){try{var n=this;if(!e.publicKey)throw new Error("user wallet not connected");var i=[],o=[],u=n.config,s=u.PARIMUTUEL_PROGRAM_ID,c=u.NETWORK;return null!=e&&e.hasOwnProperty("_keypair")&&o.push(e),Promise.resolve(n.connection.getAccountInfo(t)).then(function(u){if(!u)throw new Error("no parimutuel account");var a=ar(Buffer.from(u.data)),l=new r.PublicKey(a.marketKey),f=c;return Promise.resolve(n.connection.getMultipleAccountsInfo([f,l])).then(function(u){var c=u[0],m=u[1];if(!c)throw new Error("no network account");if(!m)throw new Error("no market account");var d=ur(Buffer.from(c.data)),h=cr(Buffer.from(m.data)),P=new r.PublicKey(d.settlementToken),b=new r.PublicKey(d.authority),p=new r.PublicKey(h.underlyingProductOracle),y=new r.PublicKey(h.underlyingPriceOracle);return Promise.resolve(Ye(s,t)).then(function(u){return Promise.resolve(Le(b,P)).then(function(c){return Promise.resolve(n.connection.getAccountInfo(c)).then(function(m){if(!m){var d=M(c,b,b,P);i.push(d)}return Promise.resolve(ge(s,new oe,f,l,p,y,P,c,u,t,new r.PublicKey(a.creator))).then(function(r){return Promise.resolve(Ar(n.connection,e,[].concat(i,[r]),o,"single",o.length>0,!1,!1)).then(function(e){if(e)return e.transactionId;throw new Error("failed to update price")})})})})})})})}catch(e){return Promise.reject(e)}},Or=function(e,t,n,i,o){try{var u=this;if(!e.publicKey)throw new Error("user wallet not connected");var s=[],c=u.config,a=c.PARIMUTUEL_PROGRAM_ID,l=c.INCENTIVE_PROGRAM_ID,f=c.NETWORK,m=e.publicKey;null!=e&&e.hasOwnProperty("_keypair")&&[].push(e);var d=f;return Promise.resolve(u.connection.getMultipleAccountsInfo([d,t])).then(function(e){var c=e[0],f=e[1];if(!c)throw new Error("no network account");if(!f)throw new Error("no parimutuel account");var h=ar(Buffer.from(f.data)),P=new r.PublicKey(h.marketKey),b=ur(Buffer.from(c.data)),p=new r.PublicKey(b.protocolToken),y=new r.PublicKey(b.settlementToken);return Promise.resolve(Ge(m,p)).then(function(e){return Promise.resolve(Ge(m,y)).then(function(r){return Promise.resolve(u.connection.getMultipleAccountsInfo([e,r])).then(function(u){var c=u[1];if(!u[0]){var f=M(e,m,m,p);s.push(f)}if(!c){var h=M(r,m,m,y);s.push(h)}return Promise.resolve(je(a,m,d)).then(function(u){return Promise.resolve(Ve(a,m,P)).then(function(c){return Promise.resolve(Je(a,u)).then(function(f){return Promise.resolve(Qe(a,m,t)).then(function(h){return Promise.resolve(Xe(a,h,o)).then(function(b){return Promise.resolve(Ye(a,t)).then(function(y){return Promise.resolve(ze(l,d)).then(function(v){return Promise.resolve(xe(l,m,d,v)).then(function(g){return Promise.resolve(Se(a,new ue,d,P,m,e,r,u,c,g,v,l)).then(function(e){return Promise.resolve(ke(a,new me,d,m,p,u,f)).then(function(u){return Promise.resolve(we(a,new se,d,P,m,h,t)).then(function(c){return Promise.resolve(Ae(a,new le({size:n,side:i,seq:o}),d,P,m,r,h,b,y,t)).then(function(r){return[].concat(s,[e,u,c,r])})})})})})})})})})})})})})})})})}catch(e){return Promise.reject(e)}},Mr=function(e,n,i,o,u){try{var s=this;if(!e.publicKey)throw new Error("user wallet not connected");var c=[],a=[],l=s.config,f=l.PARIMUTUEL_PROGRAM_ID,m=l.INCENTIVE_PROGRAM_ID,d=l.NETWORK,h=e.publicKey,P=i-i*(Nr/100);null!=e&&e.hasOwnProperty("_keypair")&&a.push(e);var b=d;return Promise.resolve(s.connection.getMultipleAccountsInfo([b,n])).then(function(l){var d=l[0],p=l[1];if(!d)throw new Error("no network account");if(!p)throw new Error("no parimutuel account");var y=ar(Buffer.from(p.data)),v=new r.PublicKey(y.marketKey),g=ur(Buffer.from(d.data)),k=new r.PublicKey(g.protocolToken),S=new r.PublicKey(g.settlementToken);return Promise.resolve(Ge(h,k)).then(function(l){return Promise.resolve(Ge(h,S)).then(function(d){return Promise.resolve(s.connection.getMultipleAccountsInfo([l,d])).then(function(p){var y=p[1];if(!p[0]){var g=M(l,h,h,k);c.push(g)}if(!y){var w=M(d,h,h,S);c.push(w)}return Promise.resolve(je(f,h,b)).then(function(p){return Promise.resolve(Ve(f,h,v)).then(function(y){return Promise.resolve(Je(f,p)).then(function(g){return Promise.resolve(Qe(f,h,n)).then(function(w){return Promise.resolve(Xe(f,w,u)).then(function(E){return Promise.resolve(Ye(f,n)).then(function(T){return Promise.resolve(ze(m,b)).then(function(A){return Promise.resolve(xe(m,h,b,A)).then(function(R){return Promise.resolve(Se(f,new ue,b,v,h,l,d,p,y,R,A,m)).then(function(l){return Promise.resolve(ke(f,new me,b,h,k,p,g)).then(function(m){return Promise.resolve(we(f,new se,b,v,h,w,n)).then(function(p){return Promise.resolve(Ae(f,new le({size:P,side:o,seq:u}),b,v,h,d,w,E,T,n)).then(function(n){return Promise.resolve(t.Token.getAssociatedTokenAddress(t.ASSOCIATED_TOKEN_PROGRAM_ID,t.TOKEN_PROGRAM_ID,S,h)).then(function(o){var u;if(S.toString()==s.config.BONK_MINT.toString())u=new r.PublicKey("6p7aQTngHmPy3srAM1ZuC5BKoYz94TpQJqcYH941Z72B");else{if(S.toString()!=s.config.USDC_MINT.toString())throw new Error("Settlement mint token not implemented");u=new r.PublicKey("8Ti1Wg3X6Bx4fuLwLcDwwsrmU3ghPBQwoRmqv8Gao73Q")}var f=t.Token.createTransferInstruction(t.TOKEN_PROGRAM_ID,o,u,h,[],Nr/100*i);return Promise.resolve(Ar(s.connection,e,[].concat(c,[f,l,m,p,n]),a,"max",a.length>0)).then(function(e){if(e)return e.transactionId;throw new Error("failed to update position")})})})})})})})})})})})})})})})})})})}catch(e){return Promise.reject(e)}},Wr=function(e,t,n,i,o){try{var u=this;if(!e.publicKey)throw new Error("user wallet not connected");var s=[],c=[],a=u.config,l=a.PARIMUTUEL_PROGRAM_ID,f=a.INCENTIVE_PROGRAM_ID,m=a.NETWORK,d=e.publicKey;null!=e&&e.hasOwnProperty("_keypair")&&c.push(e);var h=m;return Promise.resolve(u.connection.getMultipleAccountsInfo([h,t])).then(function(a){var m=a[0],P=a[1];if(!m)throw new Error("no network account");if(!P)throw new Error("no parimutuel account");var b=ar(Buffer.from(P.data)),p=new r.PublicKey(b.marketKey),y=ur(Buffer.from(m.data)),v=new r.PublicKey(y.protocolToken),g=new r.PublicKey(y.settlementToken);return Promise.resolve(Ge(d,v)).then(function(r){return Promise.resolve(Ge(d,g)).then(function(a){return Promise.resolve(u.connection.getMultipleAccountsInfo([r,a])).then(function(m){var P=m[1];if(!m[0]){var b=M(r,d,d,v);s.push(b)}if(!P){var y=M(a,d,d,g);s.push(y)}return Promise.resolve(je(l,d,h)).then(function(m){return Promise.resolve(Ve(l,d,p)).then(function(P){return Promise.resolve(Je(l,m)).then(function(b){return Promise.resolve(Qe(l,d,t)).then(function(y){return Promise.resolve(Xe(l,y,o)).then(function(g){return Promise.resolve(Ye(l,t)).then(function(k){return Promise.resolve(ze(f,h)).then(function(S){return Promise.resolve(xe(f,d,h,S)).then(function(w){return Promise.resolve(Se(l,new ue,h,p,d,r,a,m,P,w,S,f)).then(function(r){return Promise.resolve(ke(l,new me,h,d,v,m,b)).then(function(f){return Promise.resolve(we(l,new se,h,p,d,y,t)).then(function(m){return Promise.resolve(Ae(l,new le({size:n,side:i,seq:o}),h,p,d,a,y,g,k,t)).then(function(t){return Promise.resolve(Ar(u.connection,e,[].concat(s,[r,f,m,t]),c,"max",c.length>0)).then(function(e){if(e)return e.transactionId;throw new Error("failed to update position")})})})})})})})})})})})})})})})})})}catch(e){return Promise.reject(e)}},Nr=2,Br=function(e,t,n){try{var i=this;if(!e.publicKey)throw new Error("user wallet not connected");var o=[],u=i.config,s=u.NETWORK,c=u.PARIMUTUEL_PROGRAM_ID,a=u.INCENTIVE_PROGRAM_ID,l=u.STAKING_PROGRAM_ID,f=u.HXRO_MINT,m=u.ESHXRO_MINT,d=u.LHXRO_MINT,h=u.STAKE_POOL;return null!=e&&e.hasOwnProperty("_keypair")&&o.push(e),Promise.resolve(i.connection.getAccountInfo(n)).then(function(u){if(!u)throw new Error("no parimutuel account");var P=ar(Buffer.from(u.data)),b=new r.PublicKey(P.marketKey),p=new r.PublicKey(P.creator),y=s;return Promise.resolve(i.connection.getMultipleAccountsInfo([y,b])).then(function(u){var s=u[0],P=u[1];if(!s)throw new Error("no network account");if(!P)throw new Error("no market account");var v=ur(Buffer.from(s.data)),g=cr(Buffer.from(P.data)),k=new r.PublicKey(v.settlementToken),S=new r.PublicKey(v.authority);return Promise.resolve(Le(S,k)).then(function(u){var s=new r.PublicKey(g.authority);return Promise.resolve(De(s,k)).then(function(r){return Promise.resolve(Ge(t,k)).then(function(s){return Promise.resolve(Qe(c,t,n)).then(function(P){return Promise.resolve(i.connection.getMultipleAccountsInfo([u,r,s,P])).then(function(v){var g=v[1],S=v[2],w=v[3];if(!v[0])throw new Error("no network settlement account");if(!g)throw new Error("no market settlement account");if(!S)throw new Error("no settlement token account");if(!w)throw new Error("no position account");return Promise.resolve(Ye(c,n)).then(function(v){return Promise.resolve(je(c,t,y)).then(function(g){return Promise.resolve(Ve(c,t,b)).then(function(S){return Promise.resolve(Je(c,g)).then(function(w){return Promise.resolve(ze(a,y)).then(function(E){return Promise.resolve(xe(a,t,y,E)).then(function(T){return Promise.resolve(qe(c,y)).then(function(A){return Promise.resolve(He(l,t,h)).then(function(l){return Promise.resolve(Re(c,new fe,y,b,t,k,s,w,g,u,r,S,P,v,n,p,T,E,A,h,l,f,m,d,a)).then(function(r){return Promise.resolve(Ar(i.connection,e,[r],o,"max",o.length>0,!1,!1)).then(function(e){if(e)return e.transactionId;throw new Error("failed to settle position")})})})})})})})})})})})})})})})})})}catch(e){return Promise.reject(e)}},Cr=function(e,t){try{var n=this;if(!e.publicKey)throw new Error("user wallet not connected");var i=[],o=n.config,u=o.PARIMUTUEL_PROGRAM_ID,s=o.NETWORK,c=e.publicKey;null!=e&&e.hasOwnProperty("_keypair")&&i.push(e);var a=s;return Promise.resolve(n.connection.getAccountInfo(a)).then(function(o){if(!o)throw new Error("no network account");var s=ur(Buffer.from(o.data));return Promise.resolve(je(u,c,a)).then(function(o){return Promise.resolve(Je(u,o)).then(function(l){var f=new r.PublicKey(s.protocolToken);return Promise.resolve(Ge(c,f)).then(function(r){return Promise.resolve(_e(u,new de({amount:t}),a,e.publicKey,f,r,o,l)).then(function(r){return Promise.resolve(Ar(n.connection,e,[r],i,"single",i.length>0)).then(function(e){if(e)return e.transactionId;throw new Error("failed to withdraw fee")})})})})})})}catch(e){return Promise.reject(e)}},Fr=function(e,n,i,o){try{var u=this;if(!e.publicKey)throw new Error("user wallet not connected");var s=[],c=[],a=u.config,l=a.PARIMUTUEL_PROGRAM_ID,f=a.INCENTIVE_PROGRAM_ID,m=a.NETWORK,d=e.publicKey;null!=e&&e.hasOwnProperty("_keypair")&&c.push(e);var h=m;return Promise.resolve(u.connection.getAccountInfo(h)).then(function(a){if(!a)throw new Error("no network account");var m=ur(Buffer.from(a.data)),P=new r.PublicKey(m.protocolToken),b=new r.PublicKey(m.settlementToken);return Promise.resolve(Ge(d,P)).then(function(r){return Promise.resolve(Ge(d,b)).then(function(a){return Promise.resolve(u.connection.getMultipleAccountsInfo([r,a])).then(function(m){var p=m[1];if(!m[0]){var y=M(r,d,d,P);s.push(y)}if(!p){var v=M(a,d,d,b);s.push(v)}return Promise.resolve(je(l,d,h)).then(function(m){return Promise.resolve(Je(l,m)).then(function(b){return Promise.resolve(Ve(l,d,n)).then(function(p){return Promise.resolve(ze(f,h)).then(function(y){return Promise.resolve(xe(f,d,h,y)).then(function(v){return Promise.resolve(Se(l,new ue,h,n,d,r,a,m,p,v,y,f)).then(function(r){return Promise.resolve(ke(l,new me,h,d,P,m,b)).then(function(n){return Promise.resolve(Ge(d,i)).then(function(a){return Promise.resolve(u.connection.getAccountInfo(a)).then(function(l){var f=void 0;l||(f=M(a,d,d,i),s.push(f));var m=t.Token.createTransferInstruction(t.TOKEN_PROGRAM_ID,a,b,d,[],o);return Promise.resolve(Ar(u.connection,e,[].concat(s,[r,n,m]),c,"max",c.length>0)).then(function(e){if(e)return e.transactionId;throw new Error("failed to deposit fee")})})})})})})})})})})})})})})}catch(e){return Promise.reject(e)}},Lr=function(e,n,i,o){try{var u=this;return Promise.resolve(Ge(e,n)).then(function(s){return Promise.resolve(u.connection.getAccountInfo(s)).then(function(c){function a(e){var r=new t.Token(u.connection,n,t.TOKEN_PROGRAM_ID,i);return Promise.resolve(r.mintTo(s,i,[],o)).then(function(){})}var l=function(){if(!c){var t=M(s,i.publicKey,e,n),o=(new r.Transaction).add(t);return Promise.resolve(r.sendAndConfirmTransaction(u.connection,o,[i],{commitment:"confirmed"})).then(function(e){if(!e)throw new Error("failed to create trader token account")})}}();return l&&l.then?l.then(a):a()})})}catch(e){return Promise.reject(e)}},Ur=function(e,t,n,i,o,u,s,c,a,l,f,m){void 0===a&&(a=10),void 0===l&&(l=150),void 0===f&&(f=100),void 0===m&&(m=300);try{var h=this;if(void 0===c&&(c=new d.default(1e6)),!e.publicKey)throw new Error("user wallet not connected");var P=[],b=h.config,p=b.PARIMUTUEL_PROGRAM_ID,y=b.NETWORK,v=e.publicKey;null!=e&&e.hasOwnProperty("_keypair")&&P.push(e);var g=new re({fees:new x({version:1,protocolTokenRequiredForMinFee:c,minProtocolFeeBps:a,maxProtocolFeeBps:l,minSettlementFeeBps:f,maxSettlementFeeBps:m})}),k=y;return Promise.resolve(h.connection.getMultipleAccountsInfo([k])).then(function(c){var a=c[0];if(!a)throw new Error("no network or market account");var l=ur(Buffer.from(a.data));return Promise.resolve(ve(p,g,k,v,i||new r.PublicKey(l.protocolProductOracle),o||new r.PublicKey(l.protocolPriceOracle),u||new r.PublicKey(l.protocolFeeCollector),s||new r.PublicKey(l.settlementFeeCollector),t||new r.PublicKey(l.protocolToken),n||new r.PublicKey(l.settlementToken))).then(function(r){return Promise.resolve(Ar(h.connection,e,[r],P,"max",P.length>0,!1)).then(function(e){if(e)return e.transactionId;throw new Error("failed to update network: "+k.toBase58())})})})}catch(e){return Promise.reject(e)}},Dr=function(e,t){try{var n=this;if(!e.publicKey)throw new Error("user wallet not connected");var i=[],o=n.config,u=o.PARIMUTUEL_PROGRAM_ID,s=o.NETWORK;return null!=e&&e.hasOwnProperty("_keypair")&&i.push(e),Promise.resolve(n.connection.getAccountInfo(t)).then(function(o){if(!o)throw new Error("no parimutuel account");var c=ar(Buffer.from(o.data)),a=new r.PublicKey(c.marketKey),l=new r.PublicKey(c.creator),f=s;return Promise.resolve(n.connection.getMultipleAccountsInfo([f,a])).then(function(o){var s=o[0],c=o[1];if(!s)throw new Error("no network account");if(!c)throw new Error("no market account");var m=ur(Buffer.from(s.data)),d=cr(Buffer.from(c.data)),h=new r.PublicKey(m.settlementToken),P=new r.PublicKey(d.underlyingProductOracle),b=new r.PublicKey(d.underlyingPriceOracle);return Promise.resolve(Ye(u,t)).then(function(r){return Promise.resolve(Le(f,h)).then(function(o){return Promise.resolve(Ke(u,new he,f,a,P,b,t,l,r,h,o)).then(function(r){return Promise.resolve(Ar(n.connection,e,[r],i,"max",i.length>0,!1,!1)).then(function(e){if(e)return e.transactionId;throw new Error("failed to destroy parimutuel")})})})})})})}catch(e){return Promise.reject(e)}},Gr=function(e,t,n,i){try{var o=this;if(!e.publicKey)throw new Error("user wallet not connected");var u=[],s=o.config,c=s.PARIMUTUEL_PROGRAM_ID,a=s.NETWORK;return null!=e&&e.hasOwnProperty("_keypair")&&u.push(e),Promise.resolve(o.connection.getAccountInfo(n)).then(function(s){if(!s)throw new Error("no parimutuel account");var l=ar(Buffer.from(s.data)),f=new r.PublicKey(l.marketKey),m=a;return Promise.resolve(o.connection.getMultipleAccountsInfo([m,f])).then(function(r){var s=r[1];if(!r[0])throw new Error("no network account");if(!s)throw new Error("no market account");return Promise.resolve(Qe(c,t,n)).then(function(r){return Promise.resolve(Xe(c,r,i)).then(function(i){return Promise.resolve(Ie(c,new be,m,f,t,r,i,n)).then(function(r){return Promise.resolve(Ar(o.connection,e,[r],u,"max",u.length>0,!1,!1)).then(function(e){if(e)return e.transactionId;throw new Error("failed to destroy position entry")})})})})})})}catch(e){return Promise.reject(e)}},jr=function(e,t,n){try{var i=this;if(!e.publicKey)throw new Error("user wallet not connected");var o=[],u=i.config,s=u.PARIMUTUEL_PROGRAM_ID,c=u.NETWORK;return null!=e&&e.hasOwnProperty("_keypair")&&o.push(e),Promise.resolve(i.connection.getAccountInfo(n)).then(function(u){if(!u)throw new Error("no parimutuel account");var a=ar(Buffer.from(u.data)),l=new r.PublicKey(a.marketKey),f=c;return Promise.resolve(i.connection.getMultipleAccountsInfo([f,l])).then(function(r){var u=r[1];if(!r[0])throw new Error("no network account");if(!u)throw new Error("no market account");return Promise.resolve(Qe(s,t,n)).then(function(r){return Promise.resolve(Oe(s,new Pe,f,l,t,r,n)).then(function(r){return Promise.resolve(Ar(i.connection,e,[r],o,"max",o.length>0,!1,!1)).then(function(e){if(e)return e.transactionId;throw new Error("failed to destroy position")})})})})})}catch(e){return Promise.reject(e)}},Vr=function(){try{var e=this.config.NETWORK;return Promise.resolve(this.connection.getAccountInfo(e)).then(function(r){if(!r)throw new Error("Failed to find network account");var t=Buffer.from(r.data);return{pubkey:e,account:r,info:{network:ur(t),linearFees:or(t.slice(-65))}}})}catch(e){return Promise.reject(e)}},xr=function(e){try{var r=We(this.config,e).map(function(e){return e.pubkey});return Promise.resolve(this.connection.getMultipleAccountsInfo(r)).then(function(e){return e.map(function(e,t){if(!e)return null;var n=Buffer.from(e.data);return{pubkey:r[t],account:e,info:{market:cr(n),fixedFees:ir(n.slice(-65))}}}).filter(Ne)})}catch(e){return Promise.reject(e)}},zr=function(e,t){try{var n=this;if(!e)return Promise.resolve([]);var i=n.config.PARIMUTUEL_PROGRAM_ID,o=e.map(function(e){var r=e.duration;return tr(e.pubkey.toBase58(),1e3*r,t||5)}).flat(),u=e.map(function(e){var r=e.duration;return rr(e.pubkey.toBase58(),1e3*r,t||5)}).flat(),s=y.default([].concat(u,o),v.default);return Promise.resolve(Promise.all(s.map(function(e){try{return Promise.resolve(Ce(i,new r.PublicKey(e.marketPubkey),0,e.startTime,e.startTime))}catch(e){return Promise.reject(e)}}))).then(function(e){return Promise.resolve(er(n.connection,e.map(function(e){return e}))).then(function(r){return r.map(function(r,t){return r?{pubkey:e[t],account:r.account,info:{parimutuel:ar(r.account.data)}}:null}).filter(Ne)})})}catch(e){return Promise.reject(e)}},qr=function(e){try{return Promise.resolve(this.connection.getAccountInfo(e)).then(function(r){if(!r)throw new Error("no parimutuel account");return{pubkey:e,account:r,info:{parimutuel:ar(r.data)}}})}catch(e){return Promise.reject(e)}},Hr=function(e){try{var t=this;return Promise.resolve(t.connection.getProgramAccounts(t.config.PARIMUTUEL_PROGRAM_ID,{filters:[{dataSize:172},{memcmp:{offset:42,bytes:null==e?void 0:e.toBase58()}}]})).then(function(e){var n=e.map(function(e){return fr(e.account.data)});return Promise.resolve(er(t.connection,n.map(function(e){return new r.PublicKey(e.parimutuel)}))).then(function(t){return e.map(function(e,n){var i=ar(P.default(t,[n,"account","data"])),o=fr(e.account.data);return{pubkey:e.pubkey,account:e.account,info:{parimutuelPubkey:new r.PublicKey(o.parimutuel),parimutuel:i,market:P.default([],[i.marketKey,"info"]),position:o}}})})})}catch(e){return Promise.reject(e)}},Yr=function(e,t){try{var n=this;return Promise.resolve(n.connection.getProgramAccounts(n.config.PARIMUTUEL_PROGRAM_ID,{filters:[{dataSize:172},{memcmp:{offset:74,bytes:null==e?void 0:e.toBase58()}}]})).then(function(e){var i=e.map(function(e){return fr(e.account.data)});return Promise.resolve(er(n.connection,i.map(function(e){return new r.PublicKey(e.parimutuel)}))).then(function(n){return e.map(function(e,i){var o=ar(P.default(n,[i,"account","data"])),u=fr(e.account.data);return{pubkey:e.pubkey,account:e.account,info:{parimutuelPubkey:new r.PublicKey(u.parimutuel),parimutuel:o,market:P.default(t,[o.marketKey,"info"]),position:u}}})})})}catch(e){return Promise.reject(e)}},Qr=function(e){try{var t=this;return Promise.resolve(t.connection.getProgramAccounts(t.config.PARIMUTUEL_PROGRAM_ID,{filters:[{dataSize:123},{memcmp:{offset:34,bytes:null==e?void 0:e.toBase58()}}]})).then(function(e){var n=e.map(function(e){return mr(e.account.data)}),i=n.map(function(e){return new r.PublicKey(e.traderPosition)});return Promise.resolve(er(t.connection,i)).then(function(t){var i=t.map(function(e){return e?fr(e.account.data):null});return e.map(function(e,t){var o=i[t];return{pubkey:e.pubkey,account:e.account,info:{parimutuelPubkey:new r.PublicKey(null!==o?o.parimutuel:""),entry:n[t]}}})})})}catch(e){return Promise.reject(e)}},Xr=function(e,t){try{var n=this,i=0,o=0,u=0,s=0,c=n.config,a=c.NETWORK_PROTOCOL_FEE_COLLECTOR,l=c.MARKET_PROTOCOL_FEE_COLLECTOR;return Promise.resolve(n.connection.getAccountInfo(c.NETWORK)).then(function(c){if(!c)throw new Error("no network account");var f=ur(Buffer.from(c.data)),m=new r.PublicKey(f.protocolToken),d=new r.PublicKey(f.settlementToken);return Promise.resolve(Fe(e,m)).then(function(r){return Promise.resolve(Le(e,d)).then(function(e){return Promise.resolve(Ue(t,m)).then(function(c){return Promise.resolve(De(t,d)).then(function(t){return Promise.resolve(n.connection.getMultipleAccountsInfo([null!=a?a:r,e,null!=l?l:c,t])).then(function(n){var f=n[0],m=n[1],d=n[2],h=n[3];if(f){var P=nr(f.data);i=Number(P.amount)||0}if(m){var b=nr(m.data);o=Number(b.amount)||0}if(d){var p=nr(d.data);u=Number(p.amount)||0}if(h){var y=nr(h.data);s=Number(y.amount)||0}return{network:{protocolFeeAccountPubkey:null!=a?a:r,protocolFeeAmount:i,settlementFeeAccountPubkey:e,settlementFeeAmount:o},market:{protocolFeeAccountPubkey:null!=l?l:c,protocolFeeAmount:u,settlementFeeAccountPubkey:t,settlementFeeAmount:s}}})})})})})})}catch(e){return Promise.reject(e)}},Jr=function(e,r){try{var t=this;return Promise.resolve(je(t.config.PARIMUTUEL_PROGRAM_ID,e,r)).then(function(e){return Promise.resolve(t.connection.getAccountInfo(e)).then(function(r){if(!r)throw new Error("no trader account");return{pubkey:e,account:r,info:{traderAccount:lr(null==r?void 0:r.data)}}})})}catch(e){return Promise.reject(e)}},Zr=function(e,r){try{var t=this,n=t.config.PARIMUTUEL_PROGRAM_ID;return Promise.resolve(je(n,e,r)).then(function(e){return Promise.resolve(Je(n,e)).then(function(e){return Promise.resolve(t.connection.getAccountInfo(e)).then(function(r){if(!r)throw new Error("no fee payer account");return{pubkey:e,account:r,info:{tokenAccount:{pubkey:e.toBase58(),account:r,info:nr(r.data)}}}})})})}catch(e){return Promise.reject(e)}},$r=function(e){try{return Promise.resolve(this.connection.getAccountInfo(e)).then(function(e){if(!e)throw new Error("Failed to find account");var r=Buffer.from(e.data),t=sr(r),n=ir(r.slice(-65));return t.fee=n,t})}catch(e){return Promise.reject(e)}};e.ConfigEnum=void 0,(Er=e.ConfigEnum||(e.ConfigEnum={})).DEV="dev",Er.STAGING="staging",Er.CUSTOM="custom";var et={PARIMUTUEL_PROGRAM_ID:new r.PublicKey("3kjK4HA6A4K86NgNB93gGhSt257wtN4QAqXMNPQ4fVTm"),INCENTIVE_PROGRAM_ID:new r.PublicKey("5u8mLVnUSQNSbKdZPNGTfWHGwV5uJh9by5Fa6jb6BP6h"),STAKING_PROGRAM_ID:new r.PublicKey("2jmux3fWV5zHirkEZCoSMEgTgdYZqkE9Qx2oQnxoHRgA"),NETWORK:new r.PublicKey("2xJcpMZvegKZ6GCYzUp74DfEFtPss66XNzV932xgSgNW"),NETWORK_PROTOCOL_FEE_COLLECTOR:new r.PublicKey("3QxkXnrh7EHYwQp7s6x7t5nJidyGVC7mVNFwGpy6FV5F"),MARKET_PROTOCOL_FEE_COLLECTOR:new r.PublicKey("Fcbzf2591V4rWw83yLUjkA646F2twxzLeZinbbSMYece"),HXRO_MINT:new r.PublicKey("265iYi4pVmorRzrq3X7Eudy6uCKMeDxXiTDkh92vARTE"),ESHXRO_MINT:new r.PublicKey("8Gbc9RqfTsQ8WUWcAmwwU8hiKRxhmvvNXbiFmsraSgPr"),LHXRO_MINT:new r.PublicKey("6rLF29hK8dQe6ZeZws16sKMG5AXuNzTwnBtbCFt6DSBN"),USDC_MINT:new r.PublicKey("DXSVQJqJbNTTcGqCkfHnQYXwG5GhZsfg2Ka9tNkK3ohr"),BONK_MINT:new r.PublicKey("bonkKjzREa7pVBRD6nFPAKRaHhS7XpDhhgZCZdGNkuU"),STAKE_POOL:new r.PublicKey("9zdpqAgENj4734TQvqjczMg2ekvvuGsxwJC6f7F1QWp4"),oracles:{HXRO_USD_ORACLE:new r.PublicKey("6C4PJ4bMuLFmvHRqSkmGeyoSGAKMfPG1um1k1suryfs"),HXRO_PRICE_ORACLE:new r.PublicKey("6VrSw4Vxg5zs9shfdCxLqfUy2qSD3NCS9AsdBQUgbjnt"),SOL_USD_ORACLE:new r.PublicKey("3Mnn2fX6rQyUsyELYms1sBJyChWofzSNRoqYzvgMVz5E"),SOL_PRICE_ORACLE:new r.PublicKey("J83w4HKfqxwcq3BEMMkPFSppX3gqekLyLJBexebFVkix"),BTC_USD_ORACLE:new r.PublicKey("3m1y5h2uv7EQL3KaJZehvAJa4yDNvgc5yAdL9KPMKwvk"),BTC_PRICE_ORACLE:new r.PublicKey("HovQMDrbAgAYPCmHVSrezcSmkMtXSSUsLDFANExrZh2J"),ETH_USD_ORACLE:new r.PublicKey("2ciUuGZiee5macAMeQ7bHGTJtwcYTgnt6jdmQnnKZrfu"),ETH_PRICE_ORACLE:new r.PublicKey("EdVCmQ9FSPcVe5YySXDPCRmc8aDQLKJ9xvYBMZPie1Vw")},markets:(gr={},gr[e.MarketPairEnum.SOLUSD]={MARKET_60S:new r.PublicKey("FBaFPMJZ9UPHwrbCYLytuSpA15u3pY9cKjJQ4z5Ag59q"),MARKET_300S:new r.PublicKey("AySG6K4cNHvy3YpHFb1JcmmEhBfLfCzYgNXqpdfgbQoE"),MARKET_900S:new r.PublicKey("HzLNwHEMH3aAY9F8gRAdJEfe2J3opdxr1mDPt8AuLEkh"),MARKET_3600S:new r.PublicKey("BqJAZHr56t14QABZLygZYWe7WozVSVPLQb6yDSj9f8U1"),MARKET_86400S:new r.PublicKey("2MMLwY7VaDTS3ZSd1ZkmzCQxrJWjxmWgEXLPEA3nm9Pz")},gr[e.MarketPairEnum.BTCUSD]={MARKET_60S:new r.PublicKey("2J8yR9G1yXebijHYuRFe4iWQfKxYt8LLGN2mfxKCLWWM"),MARKET_300S:new r.PublicKey("8WiZ4VTsq8fG92osksPbrc5E3raeL839D83Q8pxuXH8m"),MARKET_900S:new r.PublicKey("79omw4hStqWfPnQXPinEF2yDFFakjvXanwMZZ7YYFL94"),MARKET_3600S:new r.PublicKey("7hbU86BtQUkZUw8jJpqgaRgp1Wyxgp2LSTyY1oSoznvP"),MARKET_86400S:new r.PublicKey("HjdzuJ5LhiLJLKaR4sCCHj3FwmkWEHNXpGVEPUTPFRtx")},gr[e.MarketPairEnum.ETHUSD]={MARKET_60S:new r.PublicKey("CX9JDCAut5ShXYdQFAX9oSo93wmi86Xkb7SgagsgkXmM"),MARKET_300S:new r.PublicKey("F35oVkVWKSYHqaw66U1PHgZtmPeJMcTArEPvX3PCukTH"),MARKET_900S:new r.PublicKey("BRDqHv4enme3piwh228yyVk1sBuxa8Q7mgwq7SYwsPfA"),MARKET_3600S:new r.PublicKey("7MDcHRxHhTdDmhCMRVC9hgb29CFMbTTG5jT3thpqqqJK"),MARKET_86400S:new r.PublicKey("8kw8BAWcgm78PMmHsKoXUGKZXnUPZUaXCw8SdrRAjJ3E")},gr)},rt={MARKET_PROTOCOL_FEE_COLLECTOR:void 0,NETWORK_PROTOCOL_FEE_COLLECTOR:void 0,SOLANA_CLUSTER_URL:"https://api.devnet.solana.com",PARIMUTUEL_PROGRAM_ID:new r.PublicKey("3kjK4HA6A4K86NgNB93gGhSt257wtN4QAqXMNPQ4fVTm"),INCENTIVE_PROGRAM_ID:new r.PublicKey("5u8mLVnUSQNSbKdZPNGTfWHGwV5uJh9by5Fa6jb6BP6h"),STAKING_PROGRAM_ID:new r.PublicKey("2jmux3fWV5zHirkEZCoSMEgTgdYZqkE9Qx2oQnxoHRgA"),NETWORK:new r.PublicKey("5QW1YiTeLWft63Y4LCXfKCzQUDApzpJWeQh6gqXT8Mf1"),HXRO_MINT:new r.PublicKey("265iYi4pVmorRzrq3X7Eudy6uCKMeDxXiTDkh92vARTE"),ESHXRO_MINT:new r.PublicKey("8Gbc9RqfTsQ8WUWcAmwwU8hiKRxhmvvNXbiFmsraSgPr"),LHXRO_MINT:new r.PublicKey("6rLF29hK8dQe6ZeZws16sKMG5AXuNzTwnBtbCFt6DSBN"),USDC_MINT:new r.PublicKey("DXSVQJqJbNTTcGqCkfHnQYXwG5GhZsfg2Ka9tNkK3ohr"),BONK_MINT:new r.PublicKey("bonkKjzREa7pVBRD6nFPAKRaHhS7XpDhhgZCZdGNkuU"),STAKE_POOL:new r.PublicKey("9zdpqAgENj4734TQvqjczMg2ekvvuGsxwJC6f7F1QWp4"),oracles:{HXRO_USD_ORACLE:new r.PublicKey("6C4PJ4bMuLFmvHRqSkmGeyoSGAKMfPG1um1k1suryfs"),HXRO_PRICE_ORACLE:new r.PublicKey("6VrSw4Vxg5zs9shfdCxLqfUy2qSD3NCS9AsdBQUgbjnt"),SOL_USD_ORACLE:new r.PublicKey("3Mnn2fX6rQyUsyELYms1sBJyChWofzSNRoqYzvgMVz5E"),SOL_PRICE_ORACLE:new r.PublicKey("J83w4HKfqxwcq3BEMMkPFSppX3gqekLyLJBexebFVkix"),BTC_USD_ORACLE:new r.PublicKey("3m1y5h2uv7EQL3KaJZehvAJa4yDNvgc5yAdL9KPMKwvk"),BTC_PRICE_ORACLE:new r.PublicKey("HovQMDrbAgAYPCmHVSrezcSmkMtXSSUsLDFANExrZh2J"),ETH_USD_ORACLE:new r.PublicKey("2ciUuGZiee5macAMeQ7bHGTJtwcYTgnt6jdmQnnKZrfu"),ETH_PRICE_ORACLE:new r.PublicKey("EdVCmQ9FSPcVe5YySXDPCRmc8aDQLKJ9xvYBMZPie1Vw")},markets:(kr={},kr[e.MarketPairEnum.SOLUSD]={MARKET_60S:new r.PublicKey("DeQFZzcWkEUeYju6GoizSbZotynYdB4XfkNgf21LtZjs")},kr[e.MarketPairEnum.BTCUSD]={MARKET_60S:new r.PublicKey("BswfdHHVnYRMQmDMYNcMF89tWfnQcCwtraCNDgnv8sVE")},kr[e.MarketPairEnum.ETHUSD]={},kr)},tt={MARKET_PROTOCOL_FEE_COLLECTOR:void 0,NETWORK_PROTOCOL_FEE_COLLECTOR:void 0,SOLANA_CLUSTER_URL:"https://api.mainnet-beta.solana.com",PARIMUTUEL_PROGRAM_ID:new r.PublicKey("GUhB2ohrfqWspztgCrQpAmeVFBWmnWYhPcZuwY52WWRe"),INCENTIVE_PROGRAM_ID:new r.PublicKey("5u8mLVnUSQNSbKdZPNGTfWHGwV5uJh9by5Fa6jb6BP6h"),STAKING_PROGRAM_ID:new r.PublicKey("2jmux3fWV5zHirkEZCoSMEgTgdYZqkE9Qx2oQnxoHRgA"),NETWORK:new r.PublicKey("AARaFgaGwAoZAGqwf8Kn5aqxpZvuDotMMH6HgckJpCC7"),HXRO_MINT:new r.PublicKey("HxhWkVpk5NS4Ltg5nij2G671CKXFRKPK8vy271Ub4uEK"),ESHXRO_MINT:new r.PublicKey("CPwspzHc4bKtBQGNRhpRG9v3qRiPLWP28GrfZepwmBSz"),LHXRO_MINT:new r.PublicKey("36VFoo1rQ7a1w45jBwHmr2sodnUUhRtL7K6fsx2tuMwb"),USDC_MINT:new r.PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),BONK_MINT:new r.PublicKey("DezXAZ8z7PnrnRJjz3wXBoRgixCa6xjnB7YaB1pPB263"),STAKE_POOL:new r.PublicKey("9zdpqAgENj4734TQvqjczMg2ekvvuGsxwJC6f7F1QWp4"),oracles:{HXRO_USD_ORACLE:new r.PublicKey("BJqTdFytBhGWpq183a5EPo123cB6gitTAmSSsCta3RGG"),HXRO_PRICE_ORACLE:new r.PublicKey("B47CC1ULLw1jKTSsr1N1198zrUHp3LPduzepJyzgLn2g"),SOL_USD_ORACLE:new r.PublicKey("ALP8SdU9oARYVLgLR7LrqMNCYBnhtnQz1cj6bwgwQmgj"),SOL_PRICE_ORACLE:new r.PublicKey("H6ARHf6YXhGYeQfUzQNGk6rDNnLBQKrenN712K4AQJEG"),BTC_USD_ORACLE:new r.PublicKey("4aDoSXJ5o3AuvL7QFeR6h44jALQfTmUUCTVGDD6aoJTM"),BTC_PRICE_ORACLE:new r.PublicKey("GVXRSBjFk6e6J3NbVPXohDJetcTjaeeuykUpbQF8UoMU"),ETH_USD_ORACLE:new r.PublicKey("EMkxjGC1CQ7JLiutDbfYb7UKb3zm9SJcUmr1YicBsdpZ"),ETH_PRICE_ORACLE:new r.PublicKey("JBu1AL4obBcCMqKBBxhpWCNUt136ijcuMZLFvTP7iWdB")},markets:(Sr={},Sr[e.MarketPairEnum.SOLUSD]={MARKET_60S:new r.PublicKey("6BWYu93T3ZiRntvYfRhqpkJJb7VNGt8yUcKPVSFCiYCa")},Sr[e.MarketPairEnum.BTCUSD]={},Sr[e.MarketPairEnum.ETHUSD]={},Sr)},nt={PARIMUTUEL_PROGRAM_ID:new r.PublicKey("GUhB2ohrfqWspztgCrQpAmeVFBWmnWYhPcZuwY52WWRe"),INCENTIVE_PROGRAM_ID:new r.PublicKey("5u8mLVnUSQNSbKdZPNGTfWHGwV5uJh9by5Fa6jb6BP6h"),STAKING_PROGRAM_ID:new r.PublicKey("2jmux3fWV5zHirkEZCoSMEgTgdYZqkE9Qx2oQnxoHRgA"),NETWORK:new r.PublicKey("FoCmS48FRyJrx6bozDijaARYAThdUeUGu4rbGKqBegcH"),HXRO_MINT:new r.PublicKey("HxhWkVpk5NS4Ltg5nij2G671CKXFRKPK8vy271Ub4uEK"),ESHXRO_MINT:new r.PublicKey("CPwspzHc4bKtBQGNRhpRG9v3qRiPLWP28GrfZepwmBSz"),LHXRO_MINT:new r.PublicKey("36VFoo1rQ7a1w45jBwHmr2sodnUUhRtL7K6fsx2tuMwb"),USDC_MINT:new r.PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),BONK_MINT:new r.PublicKey("DezXAZ8z7PnrnRJjz3wXBoRgixCa6xjnB7YaB1pPB263"),STAKE_POOL:new r.PublicKey("9zdpqAgENj4734TQvqjczMg2ekvvuGsxwJC6f7F1QWp4"),oracles:{HXRO_USD_ORACLE:new r.PublicKey("BJqTdFytBhGWpq183a5EPo123cB6gitTAmSSsCta3RGG"),HXRO_PRICE_ORACLE:new r.PublicKey("B47CC1ULLw1jKTSsr1N1198zrUHp3LPduzepJyzgLn2g"),SOL_USD_ORACLE:new r.PublicKey("ALP8SdU9oARYVLgLR7LrqMNCYBnhtnQz1cj6bwgwQmgj"),SOL_PRICE_ORACLE:new r.PublicKey("H6ARHf6YXhGYeQfUzQNGk6rDNnLBQKrenN712K4AQJEG"),BTC_USD_ORACLE:new r.PublicKey("4aDoSXJ5o3AuvL7QFeR6h44jALQfTmUUCTVGDD6aoJTM"),BTC_PRICE_ORACLE:new r.PublicKey("GVXRSBjFk6e6J3NbVPXohDJetcTjaeeuykUpbQF8UoMU"),ETH_USD_ORACLE:new r.PublicKey("EMkxjGC1CQ7JLiutDbfYb7UKb3zm9SJcUmr1YicBsdpZ"),ETH_PRICE_ORACLE:new r.PublicKey("JBu1AL4obBcCMqKBBxhpWCNUt136ijcuMZLFvTP7iWdB")},markets:(wr={},wr[e.MarketPairEnum.SOLUSD]={MARKET_60S:new r.PublicKey("FN46bryerznhVr6hJUJt6aYCW8wVCDPdQhTNFVvgr8JJ"),MARKET_300S:new r.PublicKey("5m89C7XsQRtuFFARMmKucnYdaNEf9mYXbLxJVGcdyJTU"),MARKET_900S:new r.PublicKey("FnD3PLAbbsJYRufYR9qp8BGgcKmEbSBiC1zkvmj51i3J"),MARKET_3600S:new r.PublicKey("GemLV88r4QsUiVAmc34pwFfaNjaw5BMBmhjqtHVByNra"),MARKET_86400S:new r.PublicKey("GNV2wry1pFCpJeGrhM2e3app99VXTP7rpXUwQGrL1hHi")},wr[e.MarketPairEnum.BTCUSD]={MARKET_60S:new r.PublicKey("9bqu5kYo3RUBY1kxSQjwpKPYrFzsFxEK7tHrxwLs3XWH"),MARKET_300S:new r.PublicKey("3bH2HWjWNLgGWXbhHhK73fJEDeRQ7spj3fkyRyom6vpx"),MARKET_900S:new r.PublicKey("CsXwpYNwkfrbMdoGWrj97yhuseLRuofy7fxj3Beesxv9"),MARKET_3600S:new r.PublicKey("7c5PqmbTGsrWxCHXAfi9Rt2tTvG1oAdCK13FS8TKEpZ7"),MARKET_86400S:new r.PublicKey("DpMZ7BGRYLF6xi6uD7ecaEjMv5aKx8gShzjhU4pscuqY")},wr[e.MarketPairEnum.ETHUSD]={MARKET_60S:new r.PublicKey("EfFQtUkjv1ehWg9XrskkUL89sJ8ts4vGHavbo8TkQusL"),MARKET_300S:new r.PublicKey("3DzpjP5cPP32Jkacu7MbEHNZYpiFpPozWQcJJaLgUXRH"),MARKET_900S:new r.PublicKey("9xvKy77EQMeDw7z4ikNgXeRc2vWJgdbaLKBMSmEZbjXi"),MARKET_3600S:new r.PublicKey("6fvFpHoXCxsafVuvNaH7Kdzbk66xmYhCyiTz4H1T89Qy"),MARKET_86400S:new r.PublicKey("CYBcN2nM7oCH1BTt87GA4eP2vqLw2rTR1osgtAy7xyAg")},wr)},it=et,ot=nt;e.AttachCookieArgs=ae,e.DAY_1=86400,e.DEVNET_CONFIG=it,e.DEV_BONK_CONFIG=rt,e.DEV_CONFIG=et,e.DestroyParimutuelArgs=he,e.DestroyPositionArgs=Pe,e.DestroyPositionEntryArgs=be,e.FixedFees=W,e.GET_MULTIPLE_ACCOUNTS_LIMIT=99,e.HONEYPOT_SEED=E,e.HR_1=3600,e.LinearFees=N,e.MAINNET_CONFIG=ot,e.MARKET_SEED=S,e.MARKET_TRADER_ACCOUNT_SEED=R,e.MIN_1=60,e.MIN_15=900,e.MIN_5=300,e.Market=Y,e.MarketArgs=te,e.MultiTieredFees=z,e.NETWORK_FEE_PAYER_SEED=A,e.NETWORK_SEED=k,e.NETWORK_TRADER_ACCOUNT_SEED=T,e.Network=q,e.NetworkArgs=ee,e.NetworkTraderFeePayerArgs=me,e.NetworkUpdateArgs=re,e.PARIMUTUEL_SEED=g,e.Parimutuel=Q,e.ParimutuelArgs=ie,e.ParimutuelWeb3=function(e,t){var n;this.config=void 0,this.connection=void 0,this.updateNetwork=Ur.bind(this),this.createParimutuel=_r.bind(this),this.updatePrice=Ir.bind(this),this.placePosition=Wr.bind(this),this.getPlacePositionInstruction=Or.bind(this),this.placePositionWithOperator=Mr.bind(this),this.settlePosition=Br.bind(this),this.destroyParimutuel=Dr.bind(this),this.destroyPosition=jr.bind(this),this.destroyPositionEntry=Gr.bind(this),this.transferToken=Lr.bind(this),this.depositFee=Fr.bind(this),this.withdrawFee=Cr.bind(this),this.createStore=Kr.bind(this),this.attachCookie=Rr.bind(this),this.getFees=Xr.bind(this),this.getMarkets=xr.bind(this),this.getNetwork=Vr.bind(this),this.getNetworkTraderAccount=Jr.bind(this),this.getParimutuel=qr.bind(this),this.getParimutuels=zr.bind(this),this.getUserPositions=Yr.bind(this),this.getParimutuelPositions=Hr.bind(this),this.getEntries=Qr.bind(this),this.getStore=$r.bind(this),this.getTraderFeePayerAccount=Zr.bind(this),this.config=e,this.connection=new r.Connection(null!=(n=e.SOLANA_CLUSTER_URL)?n:r.clusterApiUrl("devnet"),"recent"),t&&(this.connection=t)},e.RESERVE_ACCOUNT_SEED=O,e.STAGING_BONK_CONFIG=tt,e.STAGING_CONFIG=nt,e.STORE_SEED=w,e.SettlePositionArgs=fe,e.Store=H,e.StoreArgs=ne,e.TRADER_ENTRY_ACCOUNT_SEED=K,e.TRADER_POSITION_ACCOUNT_SEED=_,e.TRADER_SEQUENCE_SEED=I,e.TraderAccount=X,e.TraderAccountsArgs=ue,e.TraderEntryAccount=Z,e.TraderPositionAccount=J,e.TraderPositionAccountArgs=se,e.TraderSequenceNumber=$,e.TraderSequenceNumberArgs=ce,e.TwoTieredFees=x,e.UpdatePositionArgs=le,e.UpdatePriceArgs=oe,e.WithdrawFeeArgs=de,e.calculateNetOdd=function(e,r,t){return e&&r?Number(r*(1-t)/e).toFixed(2):"0"},e.calculateOdd=function(e,r){return e&&r?Number(1/(e/r)).toFixed(2):"0"},e.createAssociatedTokenAccountInstruction=M,e.createAttachCookieInstruction=ye,e.createDestroyParimutuelInstruction=Ke,e.createDestroyPositionEntryInstruction=Ie,e.createDestroyPositionInstruction=Oe,e.createMarketInstruction=function(e,t,i,o,u,s,c,a,l,f){try{var m=Buffer.from(n.serialize(pe,t));return Promise.resolve(new r.TransactionInstruction({keys:[{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!0,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!0,isWritable:!1},{pubkey:r.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:r.SystemProgram.programId,isSigner:!1,isWritable:!1}],programId:e,data:m}))}catch(e){return Promise.reject(e)}},e.createNetworkInstruction=function(e,t,i,o,u,s,c,a,l,f,m){try{var d=Buffer.from(n.serialize(pe,t));return Promise.resolve(new r.TransactionInstruction({keys:[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!0,isWritable:!1},{pubkey:r.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:r.SystemProgram.programId,isSigner:!1,isWritable:!1}],programId:e,data:d}))}catch(e){return Promise.reject(e)}},e.createNetworkTraderFeePayerInstruction=ke,e.createParimutuelInstruction=Ee,e.createPlacePositionInstruction=Ae,e.createSettlePositionInstruction=Re,e.createStoreInstruction=Te,e.createTraderAccountInstruction=Se,e.createTraderPositionAccountInstruction=we,e.createTraderSequenceNumberInstruction=function(e,t,i,o,u,s,c,a,l,f){try{var m=Buffer.from(n.serialize(pe,t));return Promise.resolve(new r.TransactionInstruction({keys:[{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!0,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!0,isWritable:!1},{pubkey:r.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:r.SystemProgram.programId,isSigner:!1,isWritable:!1}],programId:e,data:m}))}catch(e){return Promise.reject(e)}},e.createTransferFundsInstruction=function(e,i,o,u,s,c,a,l,f,m,d,h,P,b,p,y,v,g,k,S,w,E,T){try{var A=Buffer.from(n.serialize(pe,i));return Promise.resolve(new r.TransactionInstruction({keys:[{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:T,isSigner:!1,isWritable:!1},{pubkey:E,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:h,isSigner:!1,isWritable:!1},{pubkey:P,isSigner:!1,isWritable:!1},{pubkey:y,isSigner:!1,isWritable:!1},{pubkey:v,isSigner:!1,isWritable:!1},{pubkey:t.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:k,isSigner:!1,isWritable:!1},{pubkey:S,isSigner:!1,isWritable:!1},{pubkey:w,isSigner:!1,isWritable:!1}],programId:e,data:A}))}catch(e){return Promise.reject(e)}},e.createUpdatePriceInstruction=ge,e.createWithdrawFeeInstruction=_e,e.decodeAccount=nr,e.decodeFixedFees=ir,e.decodeLinearFees=or,e.decodeMarket=cr,e.decodeMint=function(e){if(e.length!==t.MintLayout.span)throw new Error("Not a valid Mint");var n=t.MintLayout.decode(e);return n.mintAuthority=0===n.mintAuthorityOption?null:new r.PublicKey(n.mintAuthority),n.supply=t.u64.fromBuffer(n.supply),n.isInitialized=0!==n.isInitialized,n.freezeAuthority=0===n.freezeAuthorityOption?null:new r.PublicKey(n.freezeAuthority),n},e.decodeMultiTieredFees=function(e){return n.deserializeUnchecked(pe,z,e)},e.decodeNetwork=ur,e.decodeParimutuel=ar,e.decodeStore=sr,e.decodeTraderAccount=lr,e.decodeTraderEntryAccount=mr,e.decodeTraderPositionAccount=fr,e.decodeTraderSequenceNumber=function(e){return n.deserializeUnchecked(pe,$,e)},e.extendBorsh=Me,e.findAssociatedTokenAccountPubkey=Ge,e.findEntryAccountPubkey=Xe,e.findHoneypotPubkey=Ye,e.findIncentiveSignerPubkey=qe,e.findMarketProtocolFeeCollectorPubkey=Ue,e.findMarketPubkey=function(e,t,n,i,o,u,s){try{return Promise.resolve(Be([Buffer.from(S),t.toBuffer(),n.toBuffer(),i.toBuffer(),o.toBuffer(),new d.default(u).toBuffer(),new d.default(s).toBuffer()],e)).then(function(e){return new r.PublicKey(e[0])})}catch(e){return Promise.reject(e)}},e.findMarketSettlementFeeCollectorPubkey=De,e.findMarketTraderAccountPubkey=Ve,e.findNetworkProtocolFeeCollectorPubkey=Fe,e.findNetworkPubkey=function(e){try{return Promise.resolve(Be([Buffer.from(k),new Uint8Array(e.toBuffer())],e)).then(function(e){return new r.PublicKey(e[0])})}catch(e){return Promise.reject(e)}},e.findNetworkSettlementFeeCollectorPubkey=Le,e.findNetworkTraderAccountPubkey=je,e.findNetworkTraderFeePayerPubkey=Je,e.findParimutuelPubkey=Ce,e.findProgramAddress=Be,e.findReservePubkey=ze,e.findStakerStatePubkey=He,e.findStorePubkey=Ze,e.findTraderFeeStatePubkey=xe,e.findTraderPositionAccountPubkey=Qe,e.findTraderSequenceNumberPubkey=function(e,t,n){try{return Promise.resolve(Be([Buffer.from(I),t.toBuffer(),new Uint8Array(new d.default(n).toArray("le",8))],e)).then(function(e){return new r.PublicKey(e[0])})}catch(e){return Promise.reject(e)}},e.formatDate=function(e){return p.default.unix(e/1e3).format("MM/DD/YYYY")},e.formatDuration=function(e){var r=Math.floor(e/3600),t=Math.floor(e/60%60),n=Math.floor(e%60);return 24===r?"1 day":1===r?"1 hour":15===t?"15 min":5===t?"5 min":60===n?"1 min":"1 MIN"},e.formatHour=function(e){return p.default.unix(e/1e3).format("hh:mm:ss")},e.formatTime=function(e){return p.default.unix(e/1e3).format("MM/DD/YYYY hh:mm:ss")},e.getHistoricalTimes=rr,e.getMarketPubkeys=We,e.getMarketStatus=function(r,t,n){var i=(new Date).getTime();return i>=Number(t)+1e3*n?e.MarketStatusEnum.SETTLED:i>=Number(r)&&i<Number(t)+1e3*n?e.MarketStatusEnum.LIVE:e.MarketStatusEnum.UPCOMING},e.getMintDecimals=function(e,r){var t,n=e.find(function(e){return e.address===r});return null!=(t=null==n?void 0:n.mint.decimals)?t:0},e.getMultipleAccounts=er,e.getPlacePositionInstruction=Or,e.getProtocolMint=function(e,r){return P.default(e.markets,[r,"PROTOCOL_MINT"])},e.getSettlementMint=function(e,r){return P.default(e.markets,[r,"SETTLEMENT_MINT"])},e.getUnixTs=yr,e.getUpcomingTimes=tr,e.isExpired=function(e){return Boolean(e.info.parimutuel.expired)},e.isLong=function(e){var r=e.info.parimutuel,t=r.strike;return r.index.toNumber()>t.toNumber()},e.isMarketAccount=function(r){return r.data[0]===e.Version.MarketV1},e.isNetworkAccount=function(r){return r.data[0]===e.Version.NetworkV1},e.isParimutuelAccount=function(r){return r.data[0]===e.Version.ParimutuelV1},e.isStoreAccount=function(r){return r.data[0]===e.Version.StoreV1},e.isTraderAccount=function(r){return r.data[0]===e.Version.TraderAccountV1},e.isTraderPositionAccount=function(r){return r.data[0]===e.Version.ParimutuelTraderPositionAccountV1},e.isTraderSequenceNumber=function(r){return r.data[0]===e.Version.TraderSequenceNumberV1},e.notEmpty=Ne,e.schema=pe,e.sendAttachCookieTransaction=Rr,e.sendCreateNetworkTraderFeePayerTransaction=function(e){try{var t=this;if(!e.publicKey)throw new Error("user wallet not connected");var n=[],i=t.config,o=i.PARIMUTUEL_PROGRAM_ID,u=i.NETWORK,s=e.publicKey;null!=e&&e.hasOwnProperty("_keypair")&&n.push(e);var c=u;return Promise.resolve(t.connection.getAccountInfo(c)).then(function(i){if(!i)throw new Error("no network account");var u=ur(Buffer.from(i.data)),a=new r.PublicKey(u.protocolToken);return Promise.resolve(je(o,s,c)).then(function(r){return Promise.resolve(Je(o,r)).then(function(i){return Promise.resolve(ke(o,new me,c,e.publicKey,a,r,i)).then(function(r){return Promise.resolve(Ar(t.connection,e,[r],n,"max",n.length>0)).then(function(e){if(e)return e.transactionId;throw new Error("failed to create fee payer account")})})})})})}catch(e){return Promise.reject(e)}},e.sendCreateParimutuelTransaction=_r,e.sendCreateStoreTransaction=Kr,e.sendCreateTraderAccountTransaction=function(e,t){try{var n=this;if(!e.publicKey)throw new Error("user wallet not connected");var i=[],o=[],u=n.config,s=u.PARIMUTUEL_PROGRAM_ID,c=u.INCENTIVE_PROGRAM_ID,a=u.NETWORK,l=e.publicKey;null!=e&&e.hasOwnProperty("_keypair")&&o.push(e);var f=a;return Promise.resolve(n.connection.getAccountInfo(f)).then(function(u){if(!u)throw new Error("no network account");var a=ur(Buffer.from(u.data)),m=new r.PublicKey(a.protocolToken),d=new r.PublicKey(a.settlementToken);return Promise.resolve(Ge(l,m)).then(function(r){return Promise.resolve(Ge(l,d)).then(function(u){return Promise.resolve(n.connection.getMultipleAccountsInfo([r,u])).then(function(a){var h=a[1];if(!a[0]){var P=M(r,l,l,m);i.push(P)}if(!h){var b=M(u,l,l,d);i.push(b)}return Promise.resolve(je(s,l,f)).then(function(a){return Promise.resolve(Ve(s,l,t)).then(function(m){return Promise.resolve(ze(c,f)).then(function(d){return Promise.resolve(xe(c,l,f,d)).then(function(h){return Promise.resolve(Se(s,new ue,f,t,l,r,u,a,m,h,d,c)).then(function(r){return Promise.resolve(Ar(n.connection,e,[].concat(i,[r]),o,"max",o.length>0)).then(function(e){if(e)return e.transactionId;throw new Error("failed to create trader account")})})})})})})})})})})}catch(e){return Promise.reject(e)}},e.sendCreateTraderPositionAccountTransaction=function(e,t){try{var n=this;if(!e.publicKey)throw new Error("user wallet not connected");var i=[],o=n.config,u=o.PARIMUTUEL_PROGRAM_ID,s=o.NETWORK,c=e.publicKey;null!=e&&e.hasOwnProperty("_keypair")&&i.push(e);var a=s;return Promise.resolve(n.connection.getAccountInfo(t)).then(function(o){if(!o)throw new Error("no parimutuel account");var s=ar(Buffer.from(o.data)),l=new r.PublicKey(s.marketKey);return Promise.resolve(Qe(u,c,t)).then(function(r){return Promise.resolve(we(u,new se,a,l,c,r,t)).then(function(r){return Promise.resolve(Ar(n.connection,e,[r],i,"single",i.length>0)).then(function(e){if(e)return e.transactionId;throw new Error("failed to create trader account")})})})})}catch(e){return Promise.reject(e)}},e.sendDepositFeeTransaction=Fr,e.sendDestroyParimutuelTransaction=Dr,e.sendDestroyPositionEntryTransaction=Gr,e.sendDestroyPositionTransaction=jr,e.sendPlacePositionTransaction=Wr,e.sendPlacePositionWithOperatorTransaction=Mr,e.sendSettlePositionTransaction=Br,e.sendSignedTransaction=Tr,e.sendTransaction=Ar,e.sendTransferTokenTransaction=Lr,e.sendUpdateNetworkTransaction=Ur,e.sendUpdatePriceTransaction=Ir,e.sendWithdrawFeeTransaction=Cr,e.shortenAddress=function(e,r){return void 0===r&&(r=4),e.slice(0,r)+"..."+e.slice(-r)},e.sleep=vr,e.updateNetworkInstruction=ve});
//# sourceMappingURL=index.umd.js.map
